!function(){"use strict";Main._plugCHRT||(Main._plugCHRT=function(){function e(e){return{a:1}}const t=function(e,t,i){for(var a=["config","options","plugins","datalabels","formatter"],n=e,o=0;o<a.length;o++){if(!n[a[o]])return t;n=n[a[o]]}return n(t,i)},i={pie_outside:{id:"pie_outside",getOriginPoints:function(e,t,i){let a={x:0,y:0};var n=(t.x-e.x)/i,o=(t.y-e.y)/i;return a.x=t.x+i*n,a.y=t.y+i*o,a},getSuitableY:function(e,t,i){var a=e,n=18;return(t=t||[]).forEach(function(e){e-n<a&&e+n>a&&(a="right"===i?e+n:e-n)}),a},doughnut_LBL:function(e){const t=e.ctx,i=this,a=[],n=[],o={x:(e.chartArea.right-e.chartArea.left)/2+e.chartArea.left,y:(e.chartArea.bottom-e.chartArea.top)/2+e.chartArea.top},r=e.config.data.datasets[0],s=r.data.reduce(function(e,t){return e+t},0);e.getDatasetMeta(0).data.forEach(function(l,d){if(0==e.data.datasets[0].data[d])return;t.font="12px Arial",t.textAlign="center",t.textBaseline="middle",t.fillStyle="black";const c=l._view||l,u=r.data[d],h=fmtNB((100*u/s).toFixed(2))+"%",g=t.measureText(h).width;if((c.innerRadius+(c.outerRadius-c.innerRadius)/2)*c.circumference>1.5*g){var p=l.tooltipPosition(),f=p.x,b=p.y;return void t.fillText(h,f,b)}const I=l.getCenterPoint();let m=r.backgroundColor[d];r.backgroundColor[d];const w=Math.atan2(I.y-o.y,I.x-o.x);i.getOriginPoints(o,I,c.outerRadius);var G=o.x+Math.cos(w)*(I.x,o.x,c.outerRadius+10);let v,y=o.y+Math.sin(w)*(I.y,o.y,c.outerRadius+15);v=G<o.x?i.getSuitableY(y,a,"left"):i.getSuitableY(y,n,"right"),y=v;let C=G<o.x?G-10:G+10;G<o.x?a.push(y):n.push(y),t.lineWidth=1,t.strokeStyle=m,t.beginPath();var O=0,M=Math.cos(w),D=Math.sin(w),B=c.outerRadius+O,j=c.x+M*B,k=c.y+D*B;t.moveTo(j,k),t.lineTo(G,y),t.stroke(),t.beginPath(),t.moveTo(G,y),t.lineTo(C,y),t.stroke();const _=C<o.x?"right":"left",x=C<o.x?C:C+0,L=y+7;t.textAlign=_,t.textBaseline="bottom",t.font="normal 12px Arial,'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",t.fillStyle="dark"==cS$.c0lor?"#ddd":"#666",t.fillText(h,x,L)})},afterDraw:function(e){const t=e.ctx,i=this,a=e.config.data.datasets[2],n=a.data.reduce(function(e,t){return e+t},0);i.doughnut_LBL(e),e.getDatasetMeta(2).data.forEach(function(e,i){e._view;const o=a.data[i],r=fmtNB((100*o/n).toFixed(2))+"%",s=e.tooltipPosition(),l=s.x,d=s.y;t.font="12px Arial",t.textAlign="center",t.textBaseline="middle",t.fillStyle="black",t.fillText(r,l,d-8),t.fillText(o,l,d+8)})}},pluginBAR_LBL:{id:"pluginBAR_LBL",afterDraw:function(e){const i=e.ctx;i.font="12px Arial",i.textAlign="center",i.textBaseline="middle",i.fillStyle="#666",i.font="normal 12px Arial,'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",e.config.data.datasets.forEach(function(a,n){!0!==a.hidden&&e.getDatasetMeta(n).data.forEach(function(o,r){o._view;const s=t(e,a.data[r],{active:!1,chart:e,dataIndex:r,dataset:a,datasetIndex:n}),l=o.getCenterPoint(),d=l.x,c=l.y;i.fillText(s,d,c)})})}}};return{fn:function(t){return new e(t)},PLUG:function(e){return i.hasOwnProperty(e)&&i[e]||{}}}}())}(),function(){"use strict";var e=function(e,t,i,a){this.data=[],this.year={min:t,max:i},this.parse(a||[]),"undefined"!=typeof document&&(this.container="string"==typeof e?document.querySelector("#"+e):e,this.drawSections(),this.insertData())};e.prototype.insertData=function(){for(var e=[],t=this.container.querySelector(".scale section").offsetWidth,i=0,a=this.data.length;i<a;i++){var n=this.data[i],o=this.createBubble(t,this.year.min,n.start,n.end),r=['<span style="margin-left: '+o.getStartOffset()+"px; width: "+o.getWidth()+'px;" class="bubble bubble-'+(n.type||"default")+'" data-duration="'+(n.end?Math.round((n.end-n.start)/1e3/60/60/24/39):"")+'"></span>','<span class="date">'+o.getDateLabel()+"</span> ",'<span class="label">'+n.label+"</span>"].join("");e.push("<li>"+r+"</li>")}this.container.innerHTML+='<ul class="data">'+e.join("")+"</ul>"},e.prototype.drawSections=function(){for(var e=[],t=this.year.min;t<=this.year.max;t++)e.push("<section>"+t+"</section>");this.container.className="timesheet color-scheme-default",this.container.innerHTML='<div class="scale">'+e.join("")+"</div>"},e.prototype.parseDate=function(e){return-1===e.indexOf("/")?(e=new Date(parseInt(e,10),0,1)).hasMonth=!1:(e=e.split("/"),(e=new Date(parseInt(e[1],10),parseInt(e[0],10)-1,1)).hasMonth=!0),e},e.prototype.parse=function(e){for(var t=0,i=e.length;t<i;t++){var a=this.parseDate(e[t][0]),n=4===e[t].length?this.parseDate(e[t][1]):null,o=4===e[t].length?e[t][2]:e[t][1],r=4===e[t].length?e[t][3]:3===e[t].length?e[t][2]:"default";a.getFullYear()<this.year.min&&(this.year.min=a.getFullYear()),n&&n.getFullYear()>this.year.max?this.year.max=n.getFullYear():a.getFullYear()>this.year.max&&(this.year.max=a.getFullYear()),this.data.push({start:a,end:n,label:o,type:r})}},e.prototype.createBubble=function(e,i,a,n){return new t(e,i,a,n)};var t=function(e,t,i,a){this.min=t,this.start=i,this.end=a,this.widthMonth=e};t.prototype.formatMonth=function(e){return(e=parseInt(e,10))>=10?e:"0"+e},t.prototype.getStartOffset=function(){return this.widthMonth/12*(12*(this.start.getFullYear()-this.min)+this.start.getMonth())},t.prototype.getFullYears=function(){return(this.end&&this.end.getFullYear()||this.start.getFullYear())-this.start.getFullYear()},t.prototype.getMonths=function(){var e=this.getFullYears(),t=0;return this.end?this.end.hasMonth?(t+=this.end.getMonth()+1,t+=12-(this.start.hasMonth?this.start.getMonth():0),t+=12*(e-1)):(t+=12-(this.start.hasMonth?this.start.getMonth():0),t+=12*(e-1>0?e-1:0)):t+=this.start.hasMonth?1:12,t},t.prototype.getWidth=function(){return this.widthMonth/12*this.getMonths()},t.prototype.getDateLabel=function(){return[(this.start.hasMonth?this.formatMonth(this.start.getMonth()+1)+"/":"")+this.start.getFullYear(),this.end?"-"+(this.end.hasMonth?this.formatMonth(this.end.getMonth()+1)+"/":"")+this.end.getFullYear():""].join("")},window.Timesheet=e}(),w0w.tabglobalJS.JS_JS_nhapxuat=function(){"use strict";return function(e){var t,i,a,n=e.ua>1?"UA":"noU",o={sexMNU:1},r=[],s=[[0,5],[5,10],[10,15],[15,20],[20,30],[30,40]],l=[{maxBarThickness:50,label:"l1",backgroundColor:"rgba(211 ,211 ,211,@O)",borderWidth:0,data:[[10,22]]},{maxBarThickness:50,label:"l1",backgroundColor:"rgba(121, 200, 121,@O)",borderWidth:0,data:[[22,30]]},{maxBarThickness:50,label:"l2",backgroundColor:"rgba(75, 192, 192,@O)",borderWidth:0,data:[[30,40]]},{maxBarThickness:50,label:"l3",backgroundColor:"rgba(255, 206, 86,@O)",borderWidth:0,data:[[40,50]]},{maxBarThickness:50,label:"l4",backgroundColor:"rgba(240, 140, 121,@O)",borderWidth:0,data:[[50,60]]},{hidden:!0,backgroundColor:"rgba(255, 0, 0,@O)",borderWidth:0,data:[[60,100]]}],d=l.length,c=function(){o.vaDOUG=[],o.bgDOUG=[],o.lblDOUG=[];for(var e=0;e<2*d;e++)o.vaDOUG[e]=0,o.bgDOUG[e]="";a.empty().html(l.reduce(function(e,t,i){var a=t.data[0],n=1==o.sexMNU?"age":"ser";o.bgDOUG[i]=t.backgroundColor.replace("@O","1"),o.bgDOUG[d+i]=o.bgDOUG[i],o.lblDOUG[i]=0==i?"<= "+a[1]:i==l.length-1?"> "+a[0]:a.join(" - "),o.lblDOUG[d+i]=o.lblDOUG[i],t.backgroundColor=t.backgroundColor.replace("@O","1"),t.emps=[[],[]],t.emps.tong=0;for(var r=0;r<2;r++)o.pie_gender.hasOwnProperty(r)&&(t.emps[r]=o.pie_gender[r].filter(function(e){return(0==i&&e[n]<=a[0]||a[0]<e[n])&&(e[n]<=a[1]||i==l.length-1&&e[n]>a[1])}),t.emps.tong+=t.emps[r].length,o.vaDOUG[r*d+i]+=t.emps[r].length);return n=i==l.length-1&&t.emps.tong>0,(i<l.length-1||n)&&e.unshift('<tr><td scope="row" class="dogchartbar text-nowrap"><span class="dotuoi">'+o.lblDOUG[i]+'</span>    <span class="ml-2 chart_square" style="background:'+t.backgroundColor+';"></span></td><td>'+(0==t.emps[1].length?"-":t.emps[1].length)+"</td><td>"+(0==t.emps[0].length?"-":t.emps[0].length)+"</td><td>"+t.emps.tong+"</td></tr>"),e},[]).join("")),a.append('<tr><td scope="row" class="dogchartbar font-intalic">    <span class="mr-2"></span>   <span>Total</span></td><td>'+(o.pie_gender[1]&&o.pie_gender[1].length||0)+"</td><td>"+(o.pie_gender[0]&&o.pie_gender[0].length||0)+"</td><td>"+o.dbLOD.cnt+"</td></tr>"),$.extend(o.dbLOD.pie.datasets[0],{labels:o.lblDOUG,data:o.vaDOUG,backgroundColor:o.bgDOUG}),a.closest("#tabBODY_JS_nhapxuat")[(o.isBK>0?"add":"remove")+"Class"]("canbackup")},u=function(e){var t=[[0,0]];o.pie_gender=e.reduce(function(e,i,a){var n=e[i.gender]||(e[i.gender]=[]),o=i.birthday;return n.push(i),t[0][i.gender]=n.length,o&&(o=new Date(o))instanceof Date&&!isNaN(o)&&(o=Math.floor((new Date-o.getTime())/315576e5)),i.age=o||0,(o=i.hireday)&&(o=new Date(o))instanceof Date&&!isNaN(o)&&(o=Math.floor((new Date-o.getTime())/315576e5)),i.ser=o||0,e},{});o.dbLOD={cnt:e.length,pie:{labels:[],datasets:[{borderWidth:0,weight:1},{weight:.2},{labels:["Nu","Nam"],data:t[0],backgroundColor:["rgba(255,105,180,1)","#36A2EB"],borderWidth:0}]}},c()},h=function(){if(o.dbLOD)return o.dbLOD;var e=$.Deferred();return i.svrDAT({uri:"/api/empprofile",act:"SEL",qry:["acno","birthday","hireday","gender","offdate","secid","posid"]}).then(function(t){o.isBK=JSON.parse(t[1]).KY||t[0].length,u(t[0]),e.resolve(o.dbLOD)},function(t){u([]),e.resolve(o.dbLOD)}),e.promise()},g={job:function(){var e=g.lazyLOD,t=g.frmEL;if(e.length>0){for(var i=[],a=0;a<e.length;a++){var n=e[a];if(n.getBoundingClientRect().top+10<$(document).height()){var o=n.getAttribute("lazy");i.push(a),g[o]&&g.Q.queue("renZY",function(e,i){var a=this;console.log(a[0]),$.when(g[a[0]](t,a[2])).done(e)}.bind([o,a,n]))}}for(var r=i.length-1;r>-1;r--)e.splice(i[r],1);clearTimeout(g.Qtout),g.Qtout=setTimeout(function(){g.Q.dequeue("renZY")},300)}else $("#app").off("scroll",g.job)},track:function(e,t){g.Q=$({}),g.job(),$("#app").on("scroll",g.job)},cakip_tree:function(e){var t=e.find(".tree_cakip").removeClass("d-none"),i=function(e){var t=admin$.popup({a:"d",t:"SHIFT - HC",cBu:1,fw:0}),i=t.find("#popupdone"),a=function(e){i[(e?"add":"remove")+"Class"]("btn-primary").prop("disabled",!e)};t.find(".modal-dialog").addClass("modal-dialog-centered modal-dialog-zoom pu_fullW my-0").css({"max-width":"800px"});var o=t.find(".modal-body").addClass("pefectS_R"),r=$('<div style="background-color:rgb(255, 255, 255);position:absolute;top:0;bottom:0;left:0;right:0"><div class="mobile_mode" style="position:absolute;top:0;bottom:0;left:0;right:0"></div></div>');i.remove(),t.one("shown.bs.modal",function(){o.append(r),_gsC(srcpf$+"/media/vendor/GoJS/release/gojstrial.js","js",function(){_gsC(srcpf$+"/media/js/tikestep_s1_gojs.js"+src$id,"js",function(){r=r.find(".mobile_mode");var e=JSON.parse("eyJqc18wMDRfMjUiOiJNw6MiLCJqc18wMDRfMjYiOiJUw6puIiwianNfMDA0XzI3IjoiVGjhu51pIGdpYW4iLCJqc18wMDRfMzIiOiJU4buVbmcgdGjhursiLCJqc18wMDRfMzMiOiJOaMOibiB2acOqbiIsImpzXzAwNF8xIjoiVOG6oW8gTeG7m2kgQ2EgS8OtcCIsImpzXzAwNF8yIjoiQ2jhu41uIENhIEvDrXAgVOG7qyBEYW5oIFPDoWNoIiwianNfMDA0XzMiOiLEkOG7k25nIMO9IiwianNfMDA0XzQiOiJMxrB1IGzhuqFpIiwianNfMDA0XzUiOiI8YnIvPjxhIGhyZWY9amF2YXNjcmlwdDp2b2lkKCYjMzk7MCYjMzk7KT48c3Ryb25nPlBoacOqbiBi4bqjbiBjw6BpIMSR4bq3dCBXaW5kb3dzIC88L3N0cm9uZz48L2E+IDxhIGhyZWY9amF2YXNjcmlwdDp2b2lkKCYjMzk7MCYjMzk7KT5UaGnhur90IGvhur8gZ2nhuqNpIHBow6FwICZhbXA7IFBo4bqnbiBt4buBbSAvPC9hPiA8YSBocmVmPWphdmFzY3JpcHQ6dm9pZCgmIzM5OzAmIzM5Oyk+VGhp4bq/dCBi4buLIGNo4bqlbSBjw7RuZzwvYT4iLCJqc18wMDRfNiI6IljDs2EgdOG6pXQgY+G6oyBjYSBrw61wIHRyb25nIGRhbmggc8OhY2guIiwianNfMDA0XzciOiJYw7NhIGNhIGvDrXAuIiwianNfMDA0XzgiOiJUaeG6v3AgdOG7pWMiLCJqc18wMDRfOSI6IlRy4bufIGzhuqFpIiwianNfMDA0XzEwIjoiU8ahIMSQ4buTIENhIEvDrXAiLCJqc18wMDRfMTEiOlsiVHLGsOG7nW5nIG7DoHkgbMOgIGLhuq90IGJ14buZYy4iLCJIw6N5IG5o4bqtcCDDrXQgbmjhuqV0IDAyIGvDvSB04buxLiIsIktow7RuZyBo4bujcCBs4buHLiIsIlRyw7luZyBtw6MhIl0sImpzXzAwNF8xMiI6WyJUaOG6oyB04bqtcCB0aW4gY2jhu6lhIGThu68gbGnhu4d1IGfhuqF0IHRo4bq7IGNo4bqlbSBjw7RuZyB2w6BvIMSRw6J5LCBob+G6t2MgbmjhuqVwIGNodeG7mXQgdsOgbyDEkeG7gyBjaOG7jW4gdOG6rXAgdGluIHThuqNpIGzDqm4gKC5kYXQsIC54bHN4LCAueGxzLCAuY3N2LCAudHh0KSJdLCJqc18wMDRfMTMiOlsiVOG7qyBuZ8OgeTogIiwixJDhur9uIG5nw6B5OiAiLCJOaOG7jyBuaOG6pXQiLCJM4bubbiBuaOG6pXQiXSwianNfMDA0XzE0IjpbIkNo4buNbiBraG/huqNuZyB0aOG7nWkgZ2lhbiAuLi4iLCJEw7luZyDEkeG7gyBnaeG7m2kgaOG6oW4gbOG6oWkgZOG7ryBsaeG7h3UgdGjhursgdHJvbmcga2hv4bqjbmcgdGjhu51pIGdpYW4gVOG7qyBuZ8OgeSAtIMSQ4bq/biBuZ8OgeS4iLCJDaOG7jW4gbmjDom4gdmnDqm4gLi4uIiwiTOG7sWEgY2jhu41uIG5ow6JuIHZpw6puIGPhuqduIHTDrW5oIGPDtG5nICht4bq3YyDEkeG7i25oIGtow7RuZyBjaOG7jW4gbMOgIHTDrW5oIHThuqV0IGPhuqMgZGFuaCBzw6FjaCkiXSwianNfMDA0XzE1IjpbIkNo4buNbiB04burIGzGsHUgdHLhu68iLCJEYW5oIHPDoWNoIGzGsHUgdHLhu68iLCJUw6puIHThu4dwIiwiVGjhu51pIGdpYW4iLCJU4buVbmcgY+G7mW5nOiIsIkThu68gbGnhu4d1IGNo4bqlbSBjw7RuZyDEkcOjIGPDsyB0aGF5IMSR4buVaSBzbyB24bubaSBsxrB1IHRy4buvIGfhu5FjPGJyLz5OaOG6pW4gPGkgY2xhc3M9J2NvbnRleHQtaGVscCB0aS1tb3VzZS1hbHQnPjwvaT4gT0sgxJHhu4MgbMawdSB0cuG7ryB2w6AgdGjhu7FjIGhp4buHbiB0w61uaCBs4bqhaS4iXSwianNfMDA0XzE2IjpbIlZ1aSBsw7JuZyB4w6FjIG5o4bqtbiBsw6A6IiwiQuG6oW4gdGjhuq10IHPhu7EgbXXhu5FuIGLhu48gcXVhIGtow7RuZyBsxrB1IHRy4buvIFThu4dwIGhp4buHbiB04bqhaT8iLCJC4bqhbiBjw7MgdGjhuq10IHPhu7EgbXXhu5FuIHjDs2EgbMawdSB0cuG7ryDEkWFuZyBjaOG7jW4/IiwiQuG6oW4gdGjhuq10IHPhu7EgbXXhu5FuIGLhu48gcmEgKGtow7RuZyB4w7NhIGto4buPaSBsxrB1IHRy4buvKSIsIkLhuqFuIHRo4bqtdCBz4buxIG114buRbiBi4buPIHThuqV0IGPhuqMgKGtow7RuZyB4w7NhIGto4buPaSBsxrB1IHRy4buvKSIsIkLhuqFuIHRo4bqtdCBz4buxIG114buRbiBi4buPIHF1YSBz4buxIHRoYXkgxJHhu5VpIHbDoCB0cuG7nyB24buBICBi4bqjbiBn4buRYz8iXSwianNfMDA0XzE3IjpbIlThu4dwIG7DoHkgxJHDoyDEkcaw4bujYyBsxrB1IC4uLiA8YnIvPlZ1aSBsw7JuZyB4w6FjIG5o4bqtbiBu4bq/dSBi4bqhbiBtdeG7kW4gY+G6rXAgbmjhuq10IG3hu5tpIiwiROG7ryBsaeG7h3UgY8OzIHRoYXkgxJHhu5VpIiwiQuG6oW4gY8OzIHRo4buDIEzGsHUgbOG6oWkgaG/hurdjIEjhu6d5IGLhu48gc+G7sSB0aGF5IMSR4buVaSBuw6B5IGLhurFuZyBjw6FjaCBuaOG6pW4gPGkgY2xhc3M9J2NvbnRleHQtaGVscCB0aS1tb3VzZS1hbHQnPjwvaT4gdsOgbyBt4buZdCB0cm9uZyAwMiBuw7p0IGzhu4duaCBiw6puIHRyw6puIC4uLiIsIkLhuqFuIGPDsyB0aOG7gyBI4buneSBi4buPIHPhu7EgdGhheSDEkeG7lWkgbsOgeSBi4bqxbmcgY8OhY2ggbmjhuqVuIDxpIGNsYXNzPSdjb250ZXh0LWhlbHAgdGktbW91c2UtYWx0Jz48L2k+IHbDoG8gbsO6dCBs4buHbmggYsOqbiB0csOqbiAuLi4iXSwianNfMDA0XzE4IjpbIkPhuqduIHF1eeG6v3QgxJHhu4tuaCBj4bunYSBC4bqhbiEiLCI8ZGl2IGNsYXNzPSd0ZXh0LWNlbnRlcic+PHA+ROG7ryBsaeG7h3UgxJHDoyBjw7MgdGhheSDEkeG7lWkgc28gduG7m2kgYuG6o24gZ+G7kWMuPC9wPkLhuqFuIHZ1aSBsw7JuZyBuaOG6pW4gPGkgY2xhc3M9J2NvbnRleHQtaGVscCB0aS1tb3VzZS1hbHQnPjwvaT4gdsOgbyBt4buZdCB0cm9uZyBjw6FjIG7DunQgbOG7h25oIGLDqm4gZMaw4bubaSAuLi48L2Rpdj4iLCJYZW0ga+G6v3QgcXXhuqMgY8WpIiwiQ+G6rXAgbmjhuq10ICYgVMOtbmgiXSwianNfMDA0XzE5IjpbIsSQYW5nIHTDrW5oIGPDtG5nIiwiQuG6oW4gY8OzIHRo4buDIGThu6tuZyBs4bqhaSBi4bqxbmcgY8OhY2ggbmjhuqVuIG7DunQg4oCcIFN0b3Ag4oCdIC4uLiIsIlF1eSDGsOG7m2MgdMOtbmgiLCJC4bqhbiBjw7MgdGjhu4MgdGhheSDEkeG7lWkgcXV5IMaw4bubYyB2w6AgbmjhuqVuIG7DunQg4oCcIFTDrW5oIGzhuqFpIOKAnSIsIlTDrW5oIGzhuqFpIiwiVnVpIGzDsm5nIHjDoWMgbmjhuq1uIHRyxrDhu5tjIGtoaSBUw61uaCBs4bqhaS4iLCJYdeG6pXQga+G6v3QgcXXhuqMiLCJU4bqjaSBs4bqhaSBr4bq/dCBxdeG6oyJdLCJqc19nb2pzIjpbIkzhu4pDSCBDw5RORyBUw4FDIFRV4bqmTiIsIlRo4bupIDIiLCJUaOG7qSAzIiwiVGjhu6kgNCIsIlRo4bupIDUiLCJUaOG7qSA2IiwiVGjhu6kgNyIsIkMuTmjhuq10IiwiVOG7sSDEkeG7mW5nIHTDrW5oIE9UIG7hur91IHbDoG8gc+G7m20gaMahbjogIiwiVOG7sSDEkeG7mW5nIHTDrW5oIE9UIG7hur91IHJhIHbhu4EgdHLhu4UgaMahbjogIiwiR2nhu50gdsOgbzogIiwiR2nhu50gcmE6ICIsIlPhu5EgR2nhu50gY8O0bmcgbMOgbSB2aeG7h2M6ICIsInF1eSDEkeG7lWkgcmEgTmfDoHkgY8O0bmc6ICIsIkPDsyBwaMOibiBjw7RuZyBnaeG7nSBsw6BtIHZp4buHYzogIiwiTMOgIG5nw6B5IG5naOG7iSB0deG6p246ICIsIk7hur91IGPDsyBuaGnhu4F1IHRo4bq7IHJhIHRow6wgdMOtbmggdGjhurs6IiwiTuG6v3UgY8OzIG5oaeG7gXUgdGjhursgdsOgbyB0aMOsIHTDrW5oIHRo4bq7OiIsIlRI4bucSSBHSUFOIE5HSOG7iCBHSeG7rkEgQ0EiLCJTYXUgZ2nhu50gdsOgbyAocGjDunQpOiAiLCJU4buVbmcgc+G7kSBwaMO6dCBuZ2jhu4k6ICIsIkLhu48gcXVhIHRoYW0gc+G7kSBuw6B5IG7hur91IGdpw6EgdHLhu4sgPS0xXG5DaOG7iSB0w61uaCBraGkgZ2nDoSB0cuG7iyA+PTAgcGjDunQiLCJLaeG7g20gdsOgbz8iLCJLaeG7g20gcmE/IiwiR2nhu50gYuG6r3QgxJHhuqd1IG5naOG7iSIsIkjhur90IGdp4budIG5naOG7iSJdLCJqc19nb2pzXzEiOiJEaSBjaHV54buDbiBzxqEgxJHhu5MiLCJqc19nb2pzXzIiOiJN4buRYyAwIGdp4budIiwianNfZ29qc18zIjpbeyJpZCI6IjAiLCJkZXMiOiJz4bubbSBuaOG6pXQifSx7ImlkIjoiMSIsImRlcyI6InRy4buFIG5o4bqldCJ9XSwianNfZ29qc180IjpbIlThu5VuZyB0aOG7nWkgZ2lhbiIsIktob+G6o25nIHRo4budaSBnaWFuIHTDrW5oIFRo4bq7LVbDoG8gaOG7o3AgbOG7hyIsIktob+G6o25nIHRo4budaSBnaWFuIHTDrW5oIFRo4bq7LVbDoG8tVHLhu4UiLCJLaG/huqNuZyB0aOG7nWkgZ2lhbiB0w61uaCBUaOG6uy1W4buBLVPhu5ttIiwiS2hv4bqjbmcgdGjhu51pIGdpYW4gdMOtbmggVGjhurstUmEgIGjhu6NwIGzhu4ciLCJwaMO6dCJdLCJqc19nb2pzXzUiOlsiVsOgbyIsIlRy4buFIiwiU+G7m20iLCJSYSJdLCJqc19nb2pzXzYiOlsiWMOhYyBOaOG6rW4gVHLGsOG7m2MgS2hpIFjDs2E/IiwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbMOgIG114buRbiB4w7NhIENhIGvDrXAgxJFhbmcgY2jhu41uPyIsIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIGzDoCBtdeG7kW4geMOzYSB04bqldCBj4bqjIENhIGvDrXAiXSwianNfZ29qc183IjpbIljDoWMgTmjhuq1uIEzGsHUgVGhheSDEkOG7lWkgVGhhbSBT4buRIENhIEvDrXA/IiwiVOG7sSDEkeG7mW5nIEzGsHUga2jDtG5nIGPhuqduIGjhu49pIiwiKELhuq90IMSR4bqndSB0w61uaCB0aOG7nWkgZ2lhbiB2w6BvKSIsIihHaeG7nSB2w6BvIHF1eSDEkeG7i25oKSIsIihC4bqvdCDEkeG6p3UgdMOtbmggdsOgbyB0cuG7hSkiLCIoS+G6v3QgdGjDumMgdMOtbmggZ2nhu50gdsOgbykiLCIoQuG6r3QgxJHhuqd1IHTDrW5oIHRo4budaSBnaWFuIHJhKSIsIihN4buRYyB0aOG7nWkgZ2lhbiB0w61uaCB24buBIHPhu5ttKSIsIihHaeG7nSByYSBxdXkgxJHhu4tuaCkiLCIoS+G6v3QgdGjDumMgdMOtbmggZ2nhu50gcmEpIl0sImpzXzAwM18xIjoixJDDs25nIiwianNfMDAzX29rIjoiVGhhbyB0w6FjIGhvw6BuIHThuqV0LiIsImpzXzAwM19lcnIiOiLEkMOjIGPDsyBs4buXaSwgdnVpIGzDsm5nIHRo4butIGzhuqFpICEiLCJqc18wMDNfaGVscCI6IlRy4bujIGdpw7pwIiwianNfMDAzX2MiOlt7ImlkIjo0LCJkaXMiOiJUxINuZyBjYSJ9LHsiaWQiOjMxLCJkaXMiOiJDYSBrw61wIn0seyJpZCI6MzQsImRpcyI6IkjhuqFuIG3hu6VjIEPDtG5nIGjhu4cgdGjhu5FuZyJ9XSwianNfMDAxXzE1IjoiPGJyLz48YSBocmVmPWphdmFzY3JpcHQ6dm9pZCgmIzM5OzAmIzM5Oyk+PHN0cm9uZz5QaGnDqm4gYuG6o24gY8OgaSDEkeG6t3QgV2luZG93cyAvPC9zdHJvbmc+PC9hPiA8YSBocmVmPWphdmFzY3JpcHQ6dm9pZCgmIzM5OzAmIzM5Oyk+VGhp4bq/dCBr4bq/IGdp4bqjaSBwaMOhcCAmYW1wOyBQaOG6p24gbeG7gW0gLzwvYT4gPGEgaHJlZj1qYXZhc2NyaXB0OnZvaWQoJiMzOTswJiMzOTspPlRoaeG6v3QgYuG7iyBjaOG6pW0gY8O0bmc8L2E+IiwianNfMDAxXzE2IjoiVMOqbiBuaMOibiB2acOqbiIsImpzXzAwMV8xNyI6Ik3hu58gcmEgaOG6v3QiLCJqc18wMDFfMTgiOiJUaHUgZ+G7jW4gbOG6oWkiLCJqc18wMDFfMTkiOiJU4buVbmcgc+G7kSIsImpzXzAwMV8yMCI6IsSQYW5nIHThuqNpIiwianNfMDAxXzIxIjpbIk7hu68iLCJOYW0iXSwianNfMDAxXzIyIjoiTsSDbSIsImpzXzAwMV8yMyI6IsSQxINuZyBLw70gQ2jhuqVtIEPDtG5nIiwianNfMDAxXzI0IjoiTmjDs20gdGhlbyIsImpzXzAwMV8yNSI6IlZ1aSBsw7JuZyB4w6FjIG5o4bqtbiBi4bqhbiB0aOG6rXQgc+G7sSBtdeG7kW4geMOzYSA/IiwianNfMDAxXzI2IjoiVOG6o2kgbOG6oWkiLCJqc18wMDFfMjciOiJWdWkgbMOybmcgeMOhYyBuaOG6rW4gdHLGsOG7m2Mga2hpIHRp4bq/cCB04bulYyB0aOG7sWMgaGnhu4duLiIsImpzXzAwMV8yOCI6IuG7kiAhIMSQ4buLbmggZOG6oW5nIOG6o25oIGtow7RuZyBo4bujcCBs4buHLiIsImpzXzAwMV8yOSI6IljDs2EgdOG6pXQgY+G6oyDEkWFuZyBjaOG7jW4iLCJqc18wMDFfMzAiOiJRdeG6o24gbMO9IMSQxINuZyBuaOG6rXAiLCJqc18wMDdfMSI6Ik3DoyBBQyIsImpzXzAwN18yIjoiQ+G6p24gbmjhuq1wIG3DoyBBQyIsImpzXzAwN19hY25vIjoiVHLDuW5nIG3DoyBBQyIsImpzXzAwN18zIjoiTcOjIE4udmnDqm4iLCJqc18wMDdfNCI6IkPhuqduIG5o4bqtcCBtw6MgTmjDom4gdmnDqm4iLCJqc18wMDdfZW1wY29kZSI6IlRyw7luZyBtw6MgTmjDom4gdmnDqm4iLCJqc18wMDdfNSI6Ikjhu40gJiBsw7N0IiwianNfMDA3XzYiOiJD4bqnbiBuaOG6rXAgSOG7jSAmIGzDs3QiLCJqc18wMDdfNyI6IlTDqm4gTi52acOqbiIsImpzXzAwN184IjoiQ+G6p24gbmjhuq1wIFTDqm4gbmjDom4gdmnDqm4iLCJqc18wMDdfOSI6Ik5nw6B5IHNpbmgiLCJqc18wMDdfMTAiOiJOZ8OgeSB2w6BvIiwianNfMDA3XzExIjoixJDDoyBjw7MgbOG7l2ksIHZ1aSBsw7JuZyBraeG7g20gdHJhIGzhuqFpICEiLCJqc18wMDdfMTIiOiJHaeG7m2kgdMOtbmgiLCJqc18wMDdfMTMiOiJI4buTIFPGoSBOaMOibiBWacOqbiIsImpzXzAwN18xNCI6IlBow7JuZyBiYW4iLCJqc18wMDdfMTUiOiJDaOG7qWMgduG7pSIsImpzXzAwN18xNiI6IkLhurFuZyBj4bqlcCIsImpzXzAwN18xNyI6IkjDtG4gbmjDom4iLCJqc18wMDdfMTgiOiJUaMO0aSB2aeG7h2MiLCJqc18wMDdfMTkiOiLEkGnhu4duIHRob+G6oWkiLCJqc18wMDdfMjAiOiJT4buRIENNTkQiLCJqc18wMDdfMjEiOiJOZ8OgeSBj4bqlcCIsImpzXzAwN18yMiI6Ik7GoWkgY+G6pXAiLCJqc18wMDdfMjMiOiLEkOG7i2EgY2jhu4kiLCJqc18wMDdfMjQiOiJHaGkgY2jDuiIsImpzXzAwN18yNSI6IlThuqFvIG3hu5tpIiwianNfMDA3XzI2IjoiU+G7rWEiLCJqc18wMDdfMjciOiJYw7NhIiwianNfMDA3XzI4IjoiSMOsbmgg4bqjbmgiLCJqc18wMDdfMjkiOiJMxrB1IHRy4buvIiwianNfMDA3XzMwIjoiQuG7jyBxdWEiLCJqc18wMDdfMzEiOiJYw6FjIG5o4bqtbiB4w7NhIE5ow6JuIHZpw6puIiwianNfMDA3XzAzMSI6IkzGsHUgw70gbMOgIGLhuqFuIGtow7RuZyB0aOG7gyBwaOG7pWMgaOG7k2kgbmjDom4gdmnDqm4gYuG7iyB4w7NhICEiLCJqc18wMDdfMzIiOiJIb8OgbiB04bqldCB4w7NhIG5ow6JuIHZpw6puICEiLCJqc18wMDdfMzMiOiJC4bqhbiBjaOG6r2MgY2jhuq9uIGzDoCBtdeG7kW4geMOzYSBow6xuaCBOaMOibiB2acOqbj8iLCJqc18wMDdfMzQiOiJUaGFvIHTDoWMgaG/DoG4gdOG6pXQuIiwianNfMDA3XzM1IjoiVnVpIGzDsm5nIMSRaeG7gW4gxJHhuqd5IMSR4bunIHRyxrDhu51uZyBj4bqnbiB0aGnhur90LiIsImpzXzAwN18zNiI6IkNo4buNbiBuaMOibiB2acOqbiIsImpzXzAwN18zNyI6IsSQw7NuZyIsImpzX3Ukcl9pbmZvIjoiIn0=".atou()),t=apisvr.goSHIFT(e,a,!0,n,r[0]),i=JSON.parse(atob("eyJpZCI6Ik9IIiwiaSI6W3sidCI6Ik9IIn0sW10seyJ0IjoiSOBuaCBjaOFuaCJ9LHsidCI6IjA4OjAwIn0seyJ0IjoiMTc6MDAifV0sIl90IjoiZl8wMDRfMTAifQ=="));t.show(i,void 0),Main.isMobile()||new PerfectScrollbar(r.find(">div:last-child")[0],{})},"tikestep_s1_gojs.js")},"gojs.js"),o[0]}),setTimeout(function(){t.modal("show")},1)};return t.find("li:has(ul)").addClass("parent_li").off("click").on("click","div.btn",function(e){if(e.stopPropagation(),"mnu_edit_shift"==$(e.currentTarget).attr("mnu")){const a=e.currentTarget.getBoundingClientRect(),n=t.closest(".row").prev(),o=n.off("shown.bs.dropdown").on("shown.bs.dropdown",function(e){var t=$(e.relatedTarget).data()["bs.dropdown"]._popper;t.options.onUpdate=function(){n.trigger("click.bs.dropdown.data-api"),t.destroy()}}).parent()[0].getBoundingClientRect();n.find(">div:first-child").css({left:a.left-o.left,top:a.top-o.top-10,height:a.height+10}).off("click").on("click","a",function(e){"sua_shift"==$(e.currentTarget).attr("mnu")&&i()}).trigger("click.bs.dropdown.data-api")}}).find(" > span").attr("title","Collapse this branch"),t.find("li.parent_li > span").on("click",function(e){var t=$(this).parent("li.parent_li").find(" > ul > li");t.is(":visible")?(t.hide("fast"),$(this).attr("title","Expand this branch").find(" > i").addClass("fa-plus-circle").removeClass("fa-minus-circle")):(t.show("fast"),$(this).attr("title","Collapse this branch").find(" > i").addClass("fa-minus-circle").removeClass("fa-plus-circle")),e.stopPropagation()}),i$Desk&&(g.tree_scrollPerfect||(g.tree_scrollPerfect=new PerfectScrollbar(t.parent()[0],{suppressScrollX:!0}))),t.closest(".csspinner").removeClass("csspinner"),this.cakip_tree=function(){},$.Deferred().resolve()},cakip_clock:function(e){var t=1,i=function(){return 180};(i._shiftARC=e.find(".dog_clock")).parent().removeClass("invisible").closest(".csspinner").removeClass("csspinner");const a=e.find(".shift_clock b");return setInterval(function(){var e=new Date,n=e.getHours(),o="AM";n>12&&(n-=12,o="PM");var r,s,l,d,c=e.getMinutes(),u=e.getSeconds();a.eq(0).text(n),a.eq(1).text(c),a.eq(2).text(u),a.eq(3).text(o),0==u&&t%2!=0&&(u=60),r=30*n+c/2,s=6*c,l=6*u,(d=i._shiftARC[0].getContext("2d")).clearRect(0,0,400,400),d.lineWidth=15,d.strokeStyle="#87D37C",d.beginPath(),t%2==0?d.arc(200,180,130,90,90+l*Math.PI/180,!0):d.arc(200,180,130,90,90+l*Math.PI/180),d.stroke(),d.closePath(),d.strokeStyle="#4ECDC4",d.beginPath(),d.arc(200,180,100,0,s*Math.PI/180),d.stroke(),d.closePath(),d.strokeStyle="#6C7A89",d.beginPath(),d.arc(200,180,70,0,r*Math.PI/180),d.stroke(),60!=u&&0!=u||t++},1e3),function(){var e=$(".run_clock"),t=e.find("> g");getComputedStyle(t[0]).getPropertyValue("transform"),t[0].setAttribute("transform","matrix(1, 0, 0, 1,200,180)"),e.css({width:400,height:400});var i,a,n,o=new Date,r={},s=e.find(".shift_numbers")[0],l=e.find(".shift_ticks")[0];for(var d in r.second=(o.getSeconds()+o.getMilliseconds()/1e3)/60,r.minute=(o.getMinutes()+r.second)/60,r.hour=(o.getHours()%12+r.minute)/12,r)e.find(".shift_"+d).attr("transform","rotate("+360*r[d]+")");function c(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function u(e,t,i,a){var n=c("line");n.setAttribute("x1",t-i),n.setAttribute("x2",t),n.setAttribute("y1","0"),n.setAttribute("y2","0"),n.setAttribute("transform","rotate("+a+")"),e.appendChild(n)}for(var h=0;h<12;h++){a=c("text"),n=Math.PI/6*h,a.setAttribute("x",114*Math.cos(n)),a.setAttribute("y",114*Math.sin(n)),a.innerHTML=(h+2)%12+1,s.appendChild(a),u(l,104,16,i=30*h);for(var g=1;g<5;g++)u(l,104,8,i+6*g)}}(),this.cakip_clock=function(){},$.Deferred().resolve()},chartLIB:function(e){var t=$.Deferred();return window.Chart?t.resolve():11==GetIEVersion()?_gsC("https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js","js",function(){t.resolve()},"chart.min.js"):_gsC(deV.chartjs,"js",function(){t.resolve()},""),t.promise()},chrt_gender_age_pie:function(e){var t=$.Deferred(),i=this;return $.when(this.chartLIB()).done(function(a){var n=o.dbLOD,r=e.find("canvas.piechart"),s=["d-block","d-none"];i.chartLIB.pie=new Chart(r[0].getContext("2d"),{type:"pie",data:n.pie,options:{radius:140,layout:{padding:{left:40}},responsive:!0,maintainAspectRatio:!1,showAllTooltips:!0,animation:{duration:300,animateRotate:!0,animateScale:!0},elements:{arc:{borderColor:"#fff"}},title:{display:!0,text:"Custom Chart Title",fontSize:18,padding:20,fontColor:"#999",fontStyle:"Normal",fontFamily:"Montserrat",fullWidth:!0},legend:{display:!0,position:"bottom",labels:{boxWidth:30,fontColor:"#999",fontFamily:"Montserrat",fullWidth:!0}},tooltips:{enabled:!1,bodyFontColor:"#efefef",fontStyle:"Normal",bodyFontFamily:"Montserrat",cornerRadius:2,backgroundColor:"#333",xPadding:7,yPadding:7,caretSize:5,bodySpacing:10},plugins:{tooltip:{enabled:!1},datalabels:{textAlign:"center",formatter:function(e,t){if(1!=t.datasetIndex){var i=t.dataIndex,a=t.chart.data.datasets[t.datasetIndex].labels[i];return 0==e?"":a+"\n("+e+")"}},labels:{position:"outside"}},legend:{display:!0,position:"right",align:"start",fontFamily:"Arial",labels:{usePointStyle:!1,generateLabels:function(e){const t=e.data.datasets;if(t.length>1&&t[2].labels){for(var i=[],a=t[2].labels.length-1;a>-1;a--){var n=t[2].labels[a],o=e.getDatasetMeta(2).controller.getStyle(a);i.push({text:n+" - "+t[2].data[a],fontColor:"dark"==cS$.c0lor?"#ddd":void 0,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:!e.getDataVisibility(a)})}return i}return[]}}}}},plugins:[$.extend({beforeLayout:function(e){t.resolve()},beforeDraw:function(e,t,i,a){const n=e.getDatasetMeta(0),o=n.controller.innerRadius,r=n.controller.outerRadius-o,s=e.getDatasetMeta(0).data.length,l=Math.floor(r/s);n.data.forEach(function(e,t){var i=e._view||e;t>=d&&(i.outerRadius=o+10*l,i.innerRadius=o+10)})}},Main._plugCHRT.PLUG("pie_outside"))]}),i.chrt_gender_age_pie=function(){return t=$.Deferred(),$.when(h()).done(function(){n=o.dbLOD,t.resolve(),i.chartLIB.pie.config.data=n.pie,i.chartLIB.pie.update(),r.removeClass(s.join(" ")).addClass(s[0==n.cnt?1:0]),r.next().removeClass(s.join(" ")).addClass(s[0==n.cnt?0:1]),r.closest(".csspinner").removeClass("csspinner")}),t.promise()},r.removeClass(s.join(" ")).addClass(s[0==n.cnt?1:0]),r.next().removeClass(s.join(" ")).addClass(s[0==n.cnt?0:1]),r.closest(".csspinner").removeClass("csspinner")}),t.promise()},chrt_gender_age_bar:function(e){var t=$.Deferred(),i=this;return $.when(this.chartLIB()).done(function(a){var n=e.find(".columnchart"),s=n[0].getContext("2d"),d=s.createLinearGradient(0,0,0,600);d.addColorStop(0,"orange"),d.addColorStop(1,"purple");var u=s.createLinearGradient(0,0,170,0);u.addColorStop(0,"black"),u.addColorStop(1,"white");var g=s.createLinearGradient(0,20,0,220);g.addColorStop(0,"green"),g.addColorStop(.5,"cyan"),g.addColorStop(1,"green");var p=10,f=80,b=function(){var e,t={};return"dark"==cS$.c0lor&&(t={color:"#4d4d4d"},e="#dedede"),11==GetIEVersion()?{xAxes:[{stacked:!0,gridLines:t,ticks:{fontColor:e}}],yAxes:[{stacked:!1,position:"right",ticks:{beginAtZero:!0,min:p,max:f,fontColor:e},gridLines:t}]}:{x:{stacked:!0,tickLength:15,grid:t,ticks:{color:e}},y:{stacked:!1,position:"right",min:p,max:f,grid:t,ticks:{color:e}}}},I={type:"bar",data:{labels:["(Drag to change)"],datasets:l},options:{animation:!1,responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,displayColors:!1},scales:b(),layout:{padding:{left:120}},plugins:{datalabels:{formatter:function(e,t){return 0==t.datasetIndex&&0==t.dataIndex?e[1]>e[0]?"< "+e[1]:"":e.join(" - ")}},legend:{display:!1,labels:{usePointStyle:!0,fontColor:"red",generateLabels:function(e){console.log("generateLabels")}}}}},plugins:[Main._plugCHRT.PLUG("pluginBAR_LBL"),{beforeLayout:function(e){t.resolve()}}]},m=function(t){function a(e){e=e||{};var a,n=this,l=window,d=document,c=d.createElement("div"),u=$('<span class="ui-slider-handle"></span>')[0],h=!1,g=e.dragRECT||d,b=0,I=0,m=0,w=0,G=G||e.vertical||!1,v=G?"offsetHeight":"offsetWidth",y=G?"top":"left",C=G?"pageY":"pageX",O=-1;function M(e){return"function"==typeof e}function D(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i}function B(e,t,i){t.removeEventListener?t.removeEventListener(e,i):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null}function j(e,t){t.classList?t.classList.add(e):t.className+=" "+e}function k(e,t,i){return e<t?t:e>i?i:e}function _(e){return e.preventDefault&&e.preventDefault(),!1}function x(){b=c[v],m=c.getBoundingClientRect().top,I=u[v]}function L(e){clearTimeout(O),O=setTimeout(function(){n.RZval(w),i.chartLIB.bar&&i.chartLIB.bar.update(),i.chartLIB.pie&&i.chartLIB.pie.update()},300)}function S(t){return x(),h=!0,B("touchmove",g,q),B("mousemove",g,q),D("touchmove",g,q),D("mousemove",g,q),B("touchend",d,A),B("mouseup",d,A),D("touchend",d,A),D("mouseup",d,A),M(e.start)&&e.start(w,n,t),_(t)}function q(t){return function(t){t=t||l.EVTs;var i=t.touches?t.touches[0][C]:t[C],a=k(i-m,0,b),o=parseInt(k((i-m)/b*(f-p),0,f-p));h&&(u.style[y]=a-I/2+"px",w=Math.round(o),M(e.drag)&&e.drag(w,n,t))}(t),_(t)}function A(t){h=!1,u.style[y]=w/(f-p)*b-I/2+"px",B("touchmove",g,q),B("mousemove",g,q),B("touchend",d,A),B("mouseup",d,A),M(e.stop)&&e.stop(w,n,t)}return j("range-slider",n),j("position-absolute",n),n.style.top=t.top+"px",c.style.height=t.bottom-t.top+"px",j("range-slider-"+(G?"vertical":"horizontal"),n),j("range-slider-track",c),j("dragger",u),M(e)&&(e={drag:e}),n.RZval=function(t,i){if(clearTimeout(O),void 0===t)return w;w=i?o(t):t,x(),h=!1,u.style[y]=w/(f-p)*b-I/2+"px",M(e.drag)&&e.drag(w,n)},D("touchstart",u,S),D("mousedown",u,S),D("resize",l,L),c.appendChild(u),n.appendChild(c),r.push(function(){B("resize",l,L),B("touchstart",u,S),B("mousedown",u,S),B("touchend",d,A),B("mouseup",d,A),B("touchmove",g,q),B("mousemove",g,q)}),x(),a=s[e.atV],w=k(void 0!==a.v?a.v:p,p,f),u.style[y]=w/(f-p)*b-I/2+"px",M(e.create)&&e.create(w,n),M(e.drag)&&e.drag(w,n),n}var n=e.find(".tovic_range"),o=function(e){return f-e},s=I.data.datasets.reduce(function(e,t){return e.push({v:o(t.data[0][1])}),e},[]);n.each(function(e,t){t.style.left=20+22*e+"px",a.bind(t,{atV:e,dragRECT:n.parent()[0],vertical:!0,tip_V:$('<span class="ui-slider-tip">0</span>')[0],create:function(e,t){t.firstChild.firstChild.appendChild(this.tip_V)},start:function(){},drag:function(e,t){this.tip_V.innerHTML=o(e),t._val=o(e)},stop:function(){var e=n.slice(0);e.sort(function(e,t){return e._val-t._val});for(var t=1;t<e.length;t++)I.data.datasets[t].data=[[e[t-1]._val,e[t]._val]];I.data.datasets[0].data=[[p,I.data.datasets[1].data[0][0]]],I.data.datasets[e.length].data[0][0]=e[e.length-1]._val,c(),i.chartLIB.bar.update(),i.chartLIB.pie.update()}})()}),m=[n]};i.chartLIB.bar=new Chart(s,I),m(i.chartLIB.bar.chartArea),n.parent().closest(".csspinner").removeClass("csspinner"),i.chrt_gender_age_bar=function(){return t=$.Deferred(),$.when(h()).done(function(e,a){p=1==o.sexMNU?10:0,f=1==o.sexMNU?80:40;var r=i.chartLIB.bar.config;r.options.scales=b(),i.chartLIB.bar.update(),m[0].each(function(e){this.RZval(r.data.datasets[e].data[0][1],1)}),n.parent().closest(".csspinner").removeClass("csspinner"),t.resolve()}),t.promise()}}),t.promise()},activity_log:function(e,t){const a=$(t).scrollTop(0).removeClass("csspinner").find("li.timeline-item:last-child").removeClass("d-none"),n=this,r=$.Deferred(),s=function(){i.svrDAT({uri:"/api/headermaster",act:"GET",qry:"acts"}).done(function(e){e=JSON.parse(e);for(var i=[],l=["info","success","warning","danger","","","","primary",'<a class="text-info">'+(_La$N("js_013_13|4",o.lan)||"Import")+"</a> "+(_La$N("js_013_13|5",o.lan)||" employees profile from Excel"),'<i><a class="text-success">'+_La$N("js_007_25",aLAN)+"</a> "+(_La$N("js_013_13|3",o.lan)||"employee")+"</i>",'<i><a class="text-warning">'+_La$N("js_007_26",aLAN)+"</a> "+(_La$N("js_013_13|3",o.lan)||"employee")+"</i>",'<i><a class="text-danger">'+_La$N("js_007_27",aLAN)+"</a> "+(_La$N("js_013_13|3",o.lan)||"employee")+"</i>","","","",'<i><a class="text-primary">'+(_La$N("js_013_13|7",o.lan)||"Import")+"</a> "+(_La$N("js_013_13|8",o.lan)||" data from backup file")+"</i>",'<a class="text-info">'+(_La$N("js_013_13|4",o.lan)||"Import")+"</a> "+(_La$N("js_013_13|9",o.lan)||" employees profile from Excel")],d=function(e){var t=0,i="";switch(e.KY){case 1:break;case 2:t=e.ki,i="<small>"+e[0].acno+" / "+e[0].empcode+" / "+e[0].ho+" "+e[0].ten+"</small>";break;case 3:t=7;break;case 4:t=8}return $('<li class="timeline-item '+l[t>7?3:t]+'">      <div class="margin-left-15">           <div class="text-muted text-small">'+nga_sDt24(new Date(e._t),!1)+"</div>          <p>"+l[t+8]+" "+i+"</p>      </div></li>")},c=function(e,t){return t?"("+(e.length-n.activity_log.xemTiep[0])+"/"+e.length+") "+(_La$N("js_013_13|6",o.lan)||"view more")+" ...":(_La$N("js_013_13|2",o.lan)||"Total")+": "+e.length},u=function(){e=n.activity_log.newHIS,i=[];for(var o=0;o<e.length;o++)if(e[o]._t<n.activity_log.xemTiep[1]._t){if(10==i.length)break;n.activity_log.xemTiep=[e.length-o-1,e[o]],i.push(d(e[o]))}i.length>0&&(a.appendTo(a.closest("ul")),p.html(c(e,n.activity_log.xemTiep[0]>0)),a.closest("ul").append(i),$(t).scrollTop(t.scrollHeight)),p.removeClass("d-none"),a.addClass("d-none")},h=0;h<e.length;h++){if(n.activity_log.newHIS){if(e[h]._t<=n.activity_log.newHIS[0]._t)break}else if(10==i.length){n.activity_log.xemTiep=[e.length-h,e[h-1]];break}i.push(d(e[h]))}var g=!1,p=a.closest("ul").prepend(i).next().off("click");0==e.length?(g=!0,i=(_La$N("js_013_13|1",o.lan)||"No log")+'...<i class="ml-2 fa fa-refresh"></i>'):(n.activity_log.newHIS=e,g=!0,i=c(e,n.activity_log.xemTiep&&n.activity_log.xemTiep[0]>0)),p[(g?"remove":"add")+"Class"]("d-none").html(i).on("click",function(e){n.activity_log.newHIS?n.activity_log.xemTiep&&(a.appendTo(a.closest("ul")).removeClass("d-none"),p.addClass("d-none"),setTimeout(u,500)):(a.removeClass("d-none"),$(this).addClass("d-none"),setTimeout(s,500))}),a.addClass("d-none"),r.resolve("OK")}).fail(function(e){r.resolve("OK")})};return a.prependTo(a.closest("ul")),setTimeout(s(),1500),i$Desk&&(g.log_scrollPerfect||(g.log_scrollPerfect=new PerfectScrollbar(t,{suppressScrollX:!0}))),r.promise()},pb_cv:function(e,t){var a=function(e){for(var i=0,a=["secid","posid"],s={};i<n.length&&!$(n[i]).hasClass("active");i++);r.empty();const l=JSON.parse(n[i]._dat);for(var d=0;d<l.length;d++)for(var c in l[d].sl=0,o.pie_gender)if(o.pie_gender.hasOwnProperty(c)){const e=o.pie_gender[c].filter(function(e){return s[e.acno]||(s[e.acno]=1),e[a[i]]==l[d].id&&(s[e.acno]=2,!0)});l[d].sl+=e.length}for(var c in i=[],s)s.hasOwnProperty(c)&&1==s[c]&&i.push(c);i.length>0&&l.push({dis:"( "+(_La$N("js_013_14|2",o.lan)||"Blank status")+" )",id:-1,sl:i.length}),i=o.dbLOD.cnt;for(c=0;c<l.length;c++)r.append('<tr><td class="center">'+(c+1)+"</td><td>"+l[c].dis+"</td><td>"+l[c].sl+"</td><td>"+(i>0?fmtNB(parseFloat((l[c].sl/i).toFixed(2))):0)+" %</td></tr>");$(t).removeClass("csspinner"),e&&srclocked(!1)},n=$(t).find("a.nav-link").on("show.bs.tab",function(e){srclocked(!0),setTimeout(function(){a(e)},10)}),r=$(t).find(".pb_cv_body");return this.pb_cv=function(){var e=$.Deferred();return i.svrDAT({uri:"/api/headermaster",act:"GET",qry:"jdat"}).done(function(t){n[0]._dat=JSON.stringify(t.secs||[]),n[1]._dat=JSON.stringify(t.poss||[]),a(),e.resolve()}),e.promise()},i$Desk&&(g.pb_cv_scrollPerfect||(g.pb_cv_scrollPerfect=new PerfectScrollbar($(t).find(".dog_table_fixed_head")[0],{suppressScrollX:!0}))),this.pb_cv()},jvectormap_visitor:function(e){_gsC(" https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap.css","css",function(){},"jquery-jvectormap.css"),_gsC(srcp$f+"/media/utils/jsc/jquery-jvectormap-2.0.5.min.js"+src$id,"js",function(){var t=e.find(".jvectormap_visitor"),i=function(){$('<div class="h-100" style="min-height:200px;position: relative;overflow: hidden;background-color: transparent;"></div>').appendTo(e.find(".jvectormap_visitor")).vectorMap({onViewportChange:function(e){$(e.target).closest(".panel-body").removeClass("csspinner")},map:"world_mill",backgroundColor:"transparent",borderOpacity:.25,borderWidth:0,color:"#e6e6e6",regionStyle:{initial:{fill:"#e4ecef"}},markerStyle:{initial:{r:7,fill:"hotpink","fill-opacity":1,stroke:"#81dd4d","stroke-width":2,"stroke-opacity":.4}},markers:[{latLng:[21,78],name:"INDIA : 350"},{latLng:[-33,151],name:"Australia : 250"},{latLng:[36.77,-119.41],name:"USA : 250"},{latLng:[55.37,-3.41],name:"UK   : 250"},{latLng:[25.2,55.27],name:"UAE : 250"}],series:{regions:[{values:{US:298,SA:200,AU:760,IN:200,GB:120},scale:["#03a9f3","#02a7f1"],normalizeFunction:"polynomial"}]},hoverOpacity:null,normalizeFunction:"linear",zoomOnScroll:!1,scaleColors:["#b6d6ff","#005ace"],selectedColor:"#c9dfaf",selectedRegions:[],enableZoom:!1,hoverColor:"#fff"})};setTimeout(i,500),g.jvectormap_visitor=function(){t.find("*").off().unbind().removeData(),t.empty(),setTimeout(i,500)}},"jquery-jvectormap.min.js")}};const p=function(){setTimeout(function(){admin$.semiLOD.push(t),elTAB.find(".chrome-tab-close").each(function(e,t){t.click()})},100)};function f(e,t){const i=$.Deferred();taiLing("Loading ..."),helloguy.css("display","");var a=admin$.popup({a:"d",fw:0,cBu:1,t:"btn.text()"}),n=a.find(".modal-body").addClass("pefectS_R p-0");$('<div mnu="tuychon" class="btn ti-download btn-sm mr-2" style="font-size:18px;"></div>').prependTo(n.prev()).on("click",function(e){const t=GC.Spread.Sheets.FileType.excel;n.data("workbook").export(function(e){saveAs(e,"dume.xlsm")},function(){},{fileType:t,excelFileType:"XLSM"})});a.find(".modal-dialog").addClass("modal-dialog-centered modal-dialog-zoom pu_fullW my-0").css({"max-width":"100%"}),n.next().remove(),a.one("shown.bs.modal",function(){a.off("shown.bs.modal"),a.fi&&b(a.fi,"",n[0],t),i.resolve([a,n])}).one("hide.bs.modal",function(){a.off("hide.bs.modal"),delete apisvr.a$.sessions[r]});const o=gQRY(t),r="preview_vendor_xlsx";if(o.hasOwnProperty("c0d")&&"vendor"==o.c0d){const e=document.createElement("iframe");e.setAttribute("style","height:100%;width:100%;border:none"),e.setAttribute("frameborder","0"),delete apisvr.a$.sessions[r],apisvr.a$.sessions[r]={id:r,fn:function(i,a,n){if("job"==i)switch(a.evtData.messageType){case 0:e.contentWindow.postMessage({k:10,dat:{bl:t}},"*");break;case 1:taiLing("View demo ...");break;case 2:taiLing("Live service ...");break;case 3:taiLing(""),helloguy.removeClass("taii").removeAttr("taiing"),srclocked(!1)}}},e.onload=function(e){taiLing("Cloud preparing ...")},e.setAttribute("src",srcp$f+"/000webhostapp.tep/upexcel.html?seson="+btoa(r+"|"+w0w.location.origin+"|"+(!w0w.Worker||!0)+"|"+srcp$f+"/media/utils/jsc/upemp.js?"+(new Date).getTime())),n.append(e).css("overflow","hidden")}else a.fi=e;return a.modal("show"),i.promise()}function b(e,t,a,n){init_excel_engi().done(function(){Main.exelEngine({job:e,tmpl:n||srcp$f+("hr_dashboard_excel"==e?"/media/utils/tmplexcel/fuk/HR DATA_Excel.xlsx":"/media/utils/tmplexcel/fuk/att_logs.xlsm"),args:[[],[],[]],fileName:t,renderEL:a,cb:function(e,a,n){if("$mainO"===e)return i;"save_2_file"===e&&a.export(function(e){saveAs(e,t)},function(){},{fileType:GC.Spread.Sheets.FileType.excel,excelFileType:"XLSX"}),srclocked(!1)}})})}this.init=function(e,n,u,I,m){t=u,i=n("dbEngine");const w=function(){srclocked(!0);const t=$.Deferred();return window.xls_vid_tml?t.resolve():e.trigger("get",[srcp$f+"/media/utils/realtime_xemmau_lst.html"+src$id,function(i){var a=this;e.trigger("",[i,!1,$.Deferred().done(function(){apisvr.a$.scod(arguments[3].join("")),window.xls_vid_tml.ini($(adCS(arguments[0],a)),o,t)})])}]),t},G=function(){const t=admin$.popup({a:"d"});t.find(".modal-dialog").addClass("modal-dialog-centered modal-dialog-zoom pu_fullW my-0").css({"max-width":"800px"}),function(){srclocked(!0);const t=$.Deferred();return window.lienhe_me?t.resolve():e.trigger("get",[srcp$f+"/media/utils/lienhe.html"+src$id,function(i){var a=this;e.trigger("",[i,!1,$.Deferred().done(function(){apisvr.a$.scod(arguments[3].join("")),window.lienhe_me.ini($(adCS(arguments[0],a)),o,t)})])}]),t}().done(function(){const e=window.lienhe_me.tml({pu:t,typ:"typ_3"}),i=function(){t.modal("hide")};t.find(".modal-body").html(e.on("lienhe_rst",i).on("click","button",i)).next().remove(),srclocked(!1)}),t.modal("show")},v=function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)};var y;const C=function(e){e.stopPropagation(),e.preventDefault(),B.fadeOut("fast",function(){o.title[0].closest(".long-title").toggleClass("d-flex d-none"),B.next().fadeIn("slow",O),o.title[0].parent().prev().find('lo[mnu="hed-imp-xls"]').removeClass("d-none").addClass("d-flex").next().removeClass("d-flex").addClass("d-none")})},O=function(t){t||(v(),1!==C.uptep||(C.uptep=0,M.length>0&&(g.job(),$("#app").off("scroll",g.job).on("scroll",g.job)),k.changed))?(delete k.changed,g.lazyLOD=e.find("[lazy]").addClass("csspinner"),g.track()):g.jvectormap_visitor(e)},M=e.find(".csspinner"),D=e.find(".init_data"),B=e.find(".upload_hsnv_excel").on("click",".sample_xls",function(e){_(e)}),j=function(a,n){if("theme"!==a.type){var r=$(a.currentTarget),u=r.attr("mnu");if(u==o.sexMNU)return;if("xlstmp"===u)return void w().done(function(t){window.xls_vid_tml.vid([e.find(".form_container")]),srclocked(!1)});var h=r.attr("mnup");if(void 0!==h&&!1!==h)return void $("#"+h).trigger("click",{demo:btoa(JSON.stringify({}))});if(void 0!==(h=r.attr("mnupp"))&&!1!==h){if("hr_dashboard_excel"==h){const t=n||r.attr("mnu")||h;return e.off(t),$("#app").off("scroll",g.job),void w().done(function(i){e.on(t,function(e,i,a){switch(i){case"download":taiLing("Loading ..."),helloguy.show(),b(t,"usr_"+(new Date).getTime()+".xlsx");break;case"preview":taiLing("Loading ..."),helloguy.show(),f(t,a).done(function(e){});break;case"video":break;case"roadmap_contact":return G()}}),window.xls_vid_tml.xls([e.find(".form_container"),t,r]),srclocked(!1)})}return"empty_hsnv"==h?(v=r.text(),y=3,void devDlg(1,_La$N("js_001_27",aLAN)+".. -> "+v+"?",null,{cb:function(e){}}).show().done(function(e,a){if("1"==e){const e="/api/empprofile";i.svrDAT({act:"CLEAN_HSNV",tabId:t,tokin:tabglobalJS.tokin,uri:e,dat:[{acno:o.dbLOD.cnt,empcode:"(CLEAN",ho:" ALL)",ten:""}],ki:y}).done(p).fail(function(e){})}})):"sample_xls"==h?_(a):"lienhe_dichvu"==h?G():void 0}o.sexMNU=u,r.find("i:last-child").addClass("ti-check").closest(".lang-lst").find('a[mnu="'+("1"==u?"2":"1")+'"] i:last-child').removeClass("ti-check");for(var I=[],m=0;m<d;m++)I.push(l[m].data[0]),l[m].data[0]=s[m];s=I,c()}var v,y;g.chartLIB.pie&&g.chrt_gender_age_pie(),g.chartLIB.bar&&g.chrt_gender_age_bar()};e.find(".lang-lst").on("click","a",j),o.lan=JSON.parse(JSON.parse(atob(D.text())).lan),D.remove(),e.on("shown.bs.tab",function(e){}).on("click",".wrap-content .links > a",function(a,n){if("backup"===a.currentTarget.getAttribute("mnu"))return srclocked(!0),void setTimeout(function(){i.svrDAT({uri:"/api/headermaster",act:"GET",qry:"backup"}).done(function(e){var t="apphrm.dat",i=new Blob([e.utoa()],{type:"application/octet-stream"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,t);else{var a=document.createElement("a");a.href=window.URL.createObjectURL(i),a.download=t,a.click()}srclocked(!1)}).fail(function(e){})},100);if("restore"!==a.currentTarget.getAttribute("mnu")){if("xlstmp"===a.currentTarget.getAttribute("mnu"))return helloguy.show(),void f("time_io").done(function(e){});if("more_import"!==a.currentTarget.getAttribute("mnu"))if("rpt_timekeeper"!==a.currentTarget.getAttribute("mnu")){srclocked(!0);var r=1;_gsC(srcpf$+"/media/js/JS_JS_nhapxuat_up.js"+src$id,"js",function(){y||((y=Main._upl0d.createUPL({lan:o.lan,_tabId:t,$mainO:i})).init(B),o.title[0].parent().prev().find(".system_monitor").on("click",C),r=0),$("#app").off("scroll",g.job);var a=e.find(".jvectormap_visitor");a.find("*").off().unbind().removeData(),a.empty(),o.title[0].html(_La$N("js_013_0",o.lan)),B.next().fadeOut("fast",function(){B.fadeIn("slow"),1===r&&y.reset_S(function(){srclocked(!1)}),C.uptep=B.is(":visible")?1:0,o.title[0].parent().prev().find('lo[mnu="hed-imp-xls"]').removeClass("d-flex").addClass("d-none").next().removeClass("d-none").addClass("d-flex"),o.title[0].closest(".long-title").toggleClass("d-none d-flex")})},"JS_JS_nhapxuat_up.js")}else j(a,"rpt_timekeeper")}else $(a.currentTarget).prev().off("change").on("change",function(e){var t,a;e.currentTarget.files.length>0&&(t=e.currentTarget.files[0],(a=new FileReader).readAsText(t),a.onload=function(){srclocked(!0),devDlg(1,_La$N("js_001_27",aLAN),null,{cb:function(e){srclocked(!1)}}).show().done(function(e){1==e&&i.svrDAT({uri:"/api/headermaster",act:"GET",qry:"restore",dat:a.result.atou()}).done(p)})},a.onerror=function(){console.log(a.error)},e.currentTarget.value="")})}).find("[data-lang]").each(function(e,t){var i=t.getAttribute("data-lang");$(t).html(_La$N(i,o.lan)),"js_013_1"==i&&(o.title=[$(t)])}),e.on("theme",j).on("onActived",function(e,t){"hide_xls_list"==t.state?(M.length>0&&(g.job(),$("#app").off("scroll",g.job).on("scroll",g.job)),v()):1===t.state&&k.changed&&1!==C.uptep&&O(1)}).find(".sample_xls").on("click",function(e){_(e)}).parent().on("click","lo[mnu]",function(t){switch(t.stopPropagation(),t.preventDefault(),$(t.currentTarget).attr("mnu")){case"hed-imp-xls":requestAnimationFrame(function(){e.find('a[mnu="form_import_excel"]').trigger("click")});break;case"hed-exit-imp":requestAnimationFrame(function(){e.find(".system_monitor").trigger("click")})}});const k=function(e,t){if(0===shaEVT_NAN.indexOf(e.type))delete o.dbLOD,k.changed=[e.type,t]},_=function(e){e.preventDefault();const t=document.createElement("a");t.setAttribute("download",""),t.href="https://hellohrm.github.io/utils/media/utils/tmplexcel/import_sample.xlsx",t.download="import_sample.xlsx",t.click(),t.remove()};$("#app").on(shaEVT_NAN[0],k),r.push(function(){$("#app").off(shaEVT_NAN[0],k),$("#app").off("scroll",g.job),g.tree_scrollPerfect&&g.tree_scrollPerfect.destroy(),g.log_scrollPerfect&&g.log_scrollPerfect.destroy(),g.pb_cv_scrollPerfect&&g.pb_cv_scrollPerfect.destroy()}),a=e.find(".chart_table"),g.lazyLOD=M,g.frmEL=e,$.when(h()).done(function(e){g.track(),srclocked(!1)})},this.dispose=function(){for(var e=0;e<r.length;e++)r[e]();e=void 0,$("#tabBODY_"+t).trigger("dispose")}}}();