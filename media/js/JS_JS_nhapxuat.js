!function(t){"use strict";Main._plugCHRT||(Main._plugCHRT=function(t){function e(t){return{a:1}}const a=function(t,e,a){for(var i=["config","options","plugins","datalabels","formatter"],n=t,o=0;o<i.length;o++){if(!n[i[o]])return e;n=n[i[o]]}return n(e,a)},i={pie_outside:{id:"pie_outside",getOriginPoints:function(t,e,a){let i={x:0,y:0};var n=(e.x-t.x)/a,o=(e.y-t.y)/a;return i.x=e.x+a*n,i.y=e.y+a*o,i},getSuitableY:function(t,e,a){var i=t,n=18;return(e=e||[]).forEach((function(t){t-n<i&&t+n>i&&(i="right"===a?t+n:t-n)})),i},doughnut_LBL:function(t){const e=t.ctx,a=this,i=[],n=[],o={x:(t.chartArea.right-t.chartArea.left)/2+t.chartArea.left,y:(t.chartArea.bottom-t.chartArea.top)/2+t.chartArea.top},r=t.config.data.datasets[0],s=r.data.reduce((function(t,e){return t+e}),0);t.getDatasetMeta(0).data.forEach((function(l,u){if(0==t.data.datasets[0].data[u])return;e.font="12px Arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black";const c=l._view||l,d=r.data[u],h=fmtNB((100*d/s).toFixed(2))+"%",g=e.measureText(h).width;if((c.innerRadius+(c.outerRadius-c.innerRadius)/2)*c.circumference>1.5*g){var p=l.tooltipPosition(),I=p.x,b=p.y;return void e.fillText(h,I,b)}const f=l.getCenterPoint();let m=r.backgroundColor[u];r.backgroundColor[u];const G=Math.atan2(f.y-o.y,f.x-o.x);a.getOriginPoints(o,f,c.outerRadius);var w=o.x+Math.cos(G)*(f.x,o.x,c.outerRadius+10);let v,y=o.y+Math.sin(G)*(f.y,o.y,c.outerRadius+15);v=w<o.x?a.getSuitableY(y,i,"left"):a.getSuitableY(y,n,"right"),y=v;let O=w<o.x?w-10:w+10;w<o.x?i.push(y):n.push(y),e.lineWidth=1,e.strokeStyle=m,e.beginPath();var M=0,B=Math.cos(G),C=Math.sin(G),D=c.outerRadius+M,j=c.x+B*D,k=c.y+C*D;e.moveTo(j,k),e.lineTo(w,y),e.stroke(),e.beginPath(),e.moveTo(w,y),e.lineTo(O,y),e.stroke();const S=O<o.x?"right":"left",L=O<o.x?O:O+0,_=y+7;e.textAlign=S,e.textBaseline="bottom",e.font="normal 12px Arial,'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",e.fillStyle="dark"==cS$.c0lor?"#ddd":"#666",e.fillText(h,L,_)}))},afterDraw:function(t){const e=t.ctx,a=this,i=t.config.data.datasets[2],n=i.data.reduce((function(t,e){return t+e}),0);a.doughnut_LBL(t),t.getDatasetMeta(2).data.forEach((function(t,a){t._view;const o=i.data[a],r=fmtNB((100*o/n).toFixed(2))+"%",s=t.tooltipPosition(),l=s.x,u=s.y;e.font="12px Arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="black",e.fillText(r,l,u-8),e.fillText(o,l,u+8)}))}},pluginBAR_LBL:{id:"pluginBAR_LBL",afterDraw:function(t){const e=t.ctx;e.font="12px Arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle="#666",e.font="normal 12px Arial,'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",t.config.data.datasets.forEach((function(i,n){!0!==i.hidden&&t.getDatasetMeta(n).data.forEach((function(o,r){o._view;const s=a(t,i.data[r],{active:!1,chart:t,dataIndex:r,dataset:i,datasetIndex:n}),l=o.getCenterPoint(),u=l.x,c=l.y;e.fillText(s,u,c)}))}))}}};return{fn:function(t){return new e(t)},PLUG:function(t){return i.hasOwnProperty(t)&&i[t]||{}}}}())}(),function(){"use strict";var t=function(t,e,a,i){this.data=[],this.year={min:e,max:a},this.parse(i||[]),"undefined"!=typeof document&&(this.container="string"==typeof t?document.querySelector("#"+t):t,this.drawSections(),this.insertData())};t.prototype.insertData=function(){for(var t=[],e=this.container.querySelector(".scale section").offsetWidth,a=0,i=this.data.length;a<i;a++){var n=this.data[a],o=this.createBubble(e,this.year.min,n.start,n.end),r=['<span style="margin-left: '+o.getStartOffset()+"px; width: "+o.getWidth()+'px;" class="bubble bubble-'+(n.type||"default")+'" data-duration="'+(n.end?Math.round((n.end-n.start)/1e3/60/60/24/39):"")+'"></span>','<span class="date">'+o.getDateLabel()+"</span> ",'<span class="label">'+n.label+"</span>"].join("");t.push("<li>"+r+"</li>")}this.container.innerHTML+='<ul class="data">'+t.join("")+"</ul>"},t.prototype.drawSections=function(){for(var t=[],e=this.year.min;e<=this.year.max;e++)t.push("<section>"+e+"</section>");this.container.className="timesheet color-scheme-default",this.container.innerHTML='<div class="scale">'+t.join("")+"</div>"},t.prototype.parseDate=function(t){return-1===t.indexOf("/")?(t=new Date(parseInt(t,10),0,1)).hasMonth=!1:(t=t.split("/"),(t=new Date(parseInt(t[1],10),parseInt(t[0],10)-1,1)).hasMonth=!0),t},t.prototype.parse=function(t){for(var e=0,a=t.length;e<a;e++){var i=this.parseDate(t[e][0]),n=4===t[e].length?this.parseDate(t[e][1]):null,o=4===t[e].length?t[e][2]:t[e][1],r=4===t[e].length?t[e][3]:3===t[e].length?t[e][2]:"default";i.getFullYear()<this.year.min&&(this.year.min=i.getFullYear()),n&&n.getFullYear()>this.year.max?this.year.max=n.getFullYear():i.getFullYear()>this.year.max&&(this.year.max=i.getFullYear()),this.data.push({start:i,end:n,label:o,type:r})}},t.prototype.createBubble=function(t,a,i,n){return new e(t,a,i,n)};var e=function(t,e,a,i){this.min=e,this.start=a,this.end=i,this.widthMonth=t};e.prototype.formatMonth=function(t){return(t=parseInt(t,10))>=10?t:"0"+t},e.prototype.getStartOffset=function(){return this.widthMonth/12*(12*(this.start.getFullYear()-this.min)+this.start.getMonth())},e.prototype.getFullYears=function(){return(this.end&&this.end.getFullYear()||this.start.getFullYear())-this.start.getFullYear()},e.prototype.getMonths=function(){var t=this.getFullYears(),e=0;return this.end?this.end.hasMonth?(e+=this.end.getMonth()+1,e+=12-(this.start.hasMonth?this.start.getMonth():0),e+=12*(t-1)):(e+=12-(this.start.hasMonth?this.start.getMonth():0),e+=12*(t-1>0?t-1:0)):e+=this.start.hasMonth?1:12,e},e.prototype.getWidth=function(){return this.widthMonth/12*this.getMonths()},e.prototype.getDateLabel=function(){return[(this.start.hasMonth?this.formatMonth(this.start.getMonth()+1)+"/":"")+this.start.getFullYear(),this.end?"-"+(this.end.hasMonth?this.formatMonth(this.end.getMonth()+1)+"/":"")+this.end.getFullYear():""].join("")},window.Timesheet=t}(),w0w.tabglobalJS.JS_JS_nhapxuat=function(){"use strict";return function(t){var e,a,i,n=t.ua>1?"UA":"noU",o={sexMNU:1},r=[],s=[[0,5],[5,10],[10,15],[15,20],[20,30],[30,40]],l=[{maxBarThickness:50,label:"l1",backgroundColor:"rgba(211 ,211 ,211,@O)",borderWidth:0,data:[[10,22]]},{maxBarThickness:50,label:"l1",backgroundColor:"rgba(121, 200, 121,@O)",borderWidth:0,data:[[22,30]]},{maxBarThickness:50,label:"l2",backgroundColor:"rgba(75, 192, 192,@O)",borderWidth:0,data:[[30,40]]},{maxBarThickness:50,label:"l3",backgroundColor:"rgba(255, 206, 86,@O)",borderWidth:0,data:[[40,50]]},{maxBarThickness:50,label:"l4",backgroundColor:"rgba(240, 140, 121,@O)",borderWidth:0,data:[[50,60]]},{hidden:!0,backgroundColor:"rgba(255, 0, 0,@O)",borderWidth:0,data:[[60,100]]}],u=l.length,c=function(){o.vaDOUG=[],o.bgDOUG=[],o.lblDOUG=[];for(var t=0;t<2*u;t++)o.vaDOUG[t]=0,o.bgDOUG[t]="";i.empty().html(l.reduce((function(t,e,a){var i=e.data[0],n=1==o.sexMNU?"age":"ser";o.bgDOUG[a]=e.backgroundColor.replace("@O","1"),o.bgDOUG[u+a]=o.bgDOUG[a],o.lblDOUG[a]=0==a?"<= "+i[1]:a==l.length-1?"> "+i[0]:i.join(" - "),o.lblDOUG[u+a]=o.lblDOUG[a],e.backgroundColor=e.backgroundColor.replace("@O","1"),e.emps=[[],[]],e.emps.tong=0;for(var r=0;r<2;r++)o.pie_gender.hasOwnProperty(r)&&(e.emps[r]=o.pie_gender[r].filter((function(t){return(0==a&&t[n]<=i[0]||i[0]<t[n])&&(t[n]<=i[1]||a==l.length-1&&t[n]>i[1])})),e.emps.tong+=e.emps[r].length,o.vaDOUG[r*u+a]+=e.emps[r].length);return n=a==l.length-1&&e.emps.tong>0,(a<l.length-1||n)&&t.unshift('<tr><td scope="row" class="dogchartbar text-nowrap"><span class="dotuoi">'+o.lblDOUG[a]+'</span>    <span class="ml-2 chart_square" style="background:'+e.backgroundColor+';"></span></td><td>'+(0==e.emps[1].length?"-":e.emps[1].length)+"</td><td>"+(0==e.emps[0].length?"-":e.emps[0].length)+"</td><td>"+e.emps.tong+"</td></tr>"),t}),[]).join("")),i.append('<tr><td scope="row" class="dogchartbar font-intalic">    <span class="mr-2"></span>   <span>Total</span></td><td>'+(o.pie_gender[1]&&o.pie_gender[1].length||0)+"</td><td>"+(o.pie_gender[0]&&o.pie_gender[0].length||0)+"</td><td>"+o.dbLOD.cnt+"</td></tr>"),$.extend(o.dbLOD.pie.datasets[0],{labels:o.lblDOUG,data:o.vaDOUG,backgroundColor:o.bgDOUG}),i.closest("#tabBODY_JS_nhapxuat")[(o.isBK>0?"add":"remove")+"Class"]("canbackup")},d=function(t){var e=[[0,0]];o.pie_gender=t.reduce((function(t,a,i){var n=t[a.gender]||(t[a.gender]=[]),o=a.birthday;return n.push(a),e[0][a.gender]=n.length,o&&(o=new Date(o))instanceof Date&&!isNaN(o)&&(o=Math.floor((new Date-o.getTime())/315576e5)),a.age=o||0,(o=a.hireday)&&(o=new Date(o))instanceof Date&&!isNaN(o)&&(o=Math.floor((new Date-o.getTime())/315576e5)),a.ser=o||0,t}),{});o.dbLOD={cnt:t.length,pie:{labels:[],datasets:[{borderWidth:0,weight:1},{weight:.2},{labels:["Nu","Nam"],data:e[0],backgroundColor:["rgba(255,105,180,1)","#36A2EB"],borderWidth:0}]}},c()},h=function(){if(o.dbLOD)return o.dbLOD;var t=$.Deferred();return a.svrDAT({uri:"/api/empprofile",act:"SEL",qry:["acno","birthday","hireday","gender","offdate","secid","posid"]}).then((function(e){o.isBK=JSON.parse(e[1]).KY||e[0].length,d(e[0]),t.resolve(o.dbLOD)}),(function(e){d([]),t.resolve(o.dbLOD)})),t.promise()},g={job:function(){var t=g.lazyLOD,e=g.frmEL;if(t.length>0){for(var a=[],i=0;i<t.length;i++){var n=t[i];if(n.getBoundingClientRect().top+10<$(document).height()){var o=n.getAttribute("lazy");a.push(i),g[o]&&g.Q.queue("renZY",function(t,a){var i=this;console.log(i[0]),$.when(g[i[0]](e,i[2])).done(t)}.bind([o,i,n]))}}for(var r=a.length-1;r>-1;r--)t.splice(a[r],1);clearTimeout(g.Qtout),g.Qtout=setTimeout((function(){g.Q.dequeue("renZY")}),300)}else $("#app").off("scroll",g.job)},track:function(t,e){g.Q=$({}),g.job(),$("#app").on("scroll",g.job)},cakip_tree:function(t){var e=t.find(".tree_cakip").removeClass("d-none"),a=function(t){var e=admin$.popup({a:"d",t:"SHIFT - HC",cBu:1,fw:0}),a=e.find("#popupdone"),i=function(t){a[(t?"add":"remove")+"Class"]("btn-primary").prop("disabled",!t)};e.find(".modal-dialog").addClass("modal-dialog-centered modal-dialog-zoom pu_fullW my-0").css({"max-width":"800px"});var o=e.find(".modal-body").addClass("pefectS_R"),r=$('<div style="background-color:rgb(255, 255, 255);position:absolute;top:0;bottom:0;left:0;right:0"><div class="mobile_mode" style="position:absolute;top:0;bottom:0;left:0;right:0"></div></div>');a.remove(),e.one("shown.bs.modal",(function(){o.append(r),_gsC(srcpf$+"/media/vendor/GoJS/release/gojstrial.js","js",(function(){_gsC(srcpf$+"/media/js/tikestep_s1_gojs.js"+src$id,"js",(function(){r=r.find(".mobile_mode");var t=JSON.parse("eyJqc18wMDRfMjUiOiJNw6MiLCJqc18wMDRfMjYiOiJUw6puIiwianNfMDA0XzI3IjoiVGjhu51pIGdpYW4iLCJqc18wMDRfMzIiOiJU4buVbmcgdGjhursiLCJqc18wMDRfMzMiOiJOaMOibiB2acOqbiIsImpzXzAwNF8xIjoiVOG6oW8gTeG7m2kgQ2EgS8OtcCIsImpzXzAwNF8yIjoiQ2jhu41uIENhIEvDrXAgVOG7qyBEYW5oIFPDoWNoIiwianNfMDA0XzMiOiLEkOG7k25nIMO9IiwianNfMDA0XzQiOiJMxrB1IGzhuqFpIiwianNfMDA0XzUiOiI8YnIvPjxhIGhyZWY9amF2YXNjcmlwdDp2b2lkKCYjMzk7MCYjMzk7KT48c3Ryb25nPlBoacOqbiBi4bqjbiBjw6BpIMSR4bq3dCBXaW5kb3dzIC88L3N0cm9uZz48L2E+IDxhIGhyZWY9amF2YXNjcmlwdDp2b2lkKCYjMzk7MCYjMzk7KT5UaGnhur90IGvhur8gZ2nhuqNpIHBow6FwICZhbXA7IFBo4bqnbiBt4buBbSAvPC9hPiA8YSBocmVmPWphdmFzY3JpcHQ6dm9pZCgmIzM5OzAmIzM5Oyk+VGhp4bq/dCBi4buLIGNo4bqlbSBjw7RuZzwvYT4iLCJqc18wMDRfNiI6IljDs2EgdOG6pXQgY+G6oyBjYSBrw61wIHRyb25nIGRhbmggc8OhY2guIiwianNfMDA0XzciOiJYw7NhIGNhIGvDrXAuIiwianNfMDA0XzgiOiJUaeG6v3AgdOG7pWMiLCJqc18wMDRfOSI6IlRy4bufIGzhuqFpIiwianNfMDA0XzEwIjoiU8ahIMSQ4buTIENhIEvDrXAiLCJqc18wMDRfMTEiOlsiVHLGsOG7nW5nIG7DoHkgbMOgIGLhuq90IGJ14buZYy4iLCJIw6N5IG5o4bqtcCDDrXQgbmjhuqV0IDAyIGvDvSB04buxLiIsIktow7RuZyBo4bujcCBs4buHLiIsIlRyw7luZyBtw6MhIl0sImpzXzAwNF8xMiI6WyJUaOG6oyB04bqtcCB0aW4gY2jhu6lhIGThu68gbGnhu4d1IGfhuqF0IHRo4bq7IGNo4bqlbSBjw7RuZyB2w6BvIMSRw6J5LCBob+G6t2MgbmjhuqVwIGNodeG7mXQgdsOgbyDEkeG7gyBjaOG7jW4gdOG6rXAgdGluIHThuqNpIGzDqm4gKC5kYXQsIC54bHN4LCAueGxzLCAuY3N2LCAudHh0KSJdLCJqc18wMDRfMTMiOlsiVOG7qyBuZ8OgeTogIiwixJDhur9uIG5nw6B5OiAiLCJOaOG7jyBuaOG6pXQiLCJM4bubbiBuaOG6pXQiXSwianNfMDA0XzE0IjpbIkNo4buNbiBraG/huqNuZyB0aOG7nWkgZ2lhbiAuLi4iLCJEw7luZyDEkeG7gyBnaeG7m2kgaOG6oW4gbOG6oWkgZOG7ryBsaeG7h3UgdGjhursgdHJvbmcga2hv4bqjbmcgdGjhu51pIGdpYW4gVOG7qyBuZ8OgeSAtIMSQ4bq/biBuZ8OgeS4iLCJDaOG7jW4gbmjDom4gdmnDqm4gLi4uIiwiTOG7sWEgY2jhu41uIG5ow6JuIHZpw6puIGPhuqduIHTDrW5oIGPDtG5nICht4bq3YyDEkeG7i25oIGtow7RuZyBjaOG7jW4gbMOgIHTDrW5oIHThuqV0IGPhuqMgZGFuaCBzw6FjaCkiXSwianNfMDA0XzE1IjpbIkNo4buNbiB04burIGzGsHUgdHLhu68iLCJEYW5oIHPDoWNoIGzGsHUgdHLhu68iLCJUw6puIHThu4dwIiwiVGjhu51pIGdpYW4iLCJU4buVbmcgY+G7mW5nOiIsIkThu68gbGnhu4d1IGNo4bqlbSBjw7RuZyDEkcOjIGPDsyB0aGF5IMSR4buVaSBzbyB24bubaSBsxrB1IHRy4buvIGfhu5FjPGJyLz5OaOG6pW4gPGkgY2xhc3M9J2NvbnRleHQtaGVscCB0aS1tb3VzZS1hbHQnPjwvaT4gT0sgxJHhu4MgbMawdSB0cuG7ryB2w6AgdGjhu7FjIGhp4buHbiB0w61uaCBs4bqhaS4iXSwianNfMDA0XzE2IjpbIlZ1aSBsw7JuZyB4w6FjIG5o4bqtbiBsw6A6IiwiQuG6oW4gdGjhuq10IHPhu7EgbXXhu5FuIGLhu48gcXVhIGtow7RuZyBsxrB1IHRy4buvIFThu4dwIGhp4buHbiB04bqhaT8iLCJC4bqhbiBjw7MgdGjhuq10IHPhu7EgbXXhu5FuIHjDs2EgbMawdSB0cuG7ryDEkWFuZyBjaOG7jW4/IiwiQuG6oW4gdGjhuq10IHPhu7EgbXXhu5FuIGLhu48gcmEgKGtow7RuZyB4w7NhIGto4buPaSBsxrB1IHRy4buvKSIsIkLhuqFuIHRo4bqtdCBz4buxIG114buRbiBi4buPIHThuqV0IGPhuqMgKGtow7RuZyB4w7NhIGto4buPaSBsxrB1IHRy4buvKSIsIkLhuqFuIHRo4bqtdCBz4buxIG114buRbiBi4buPIHF1YSBz4buxIHRoYXkgxJHhu5VpIHbDoCB0cuG7nyB24buBICBi4bqjbiBn4buRYz8iXSwianNfMDA0XzE3IjpbIlThu4dwIG7DoHkgxJHDoyDEkcaw4bujYyBsxrB1IC4uLiA8YnIvPlZ1aSBsw7JuZyB4w6FjIG5o4bqtbiBu4bq/dSBi4bqhbiBtdeG7kW4gY+G6rXAgbmjhuq10IG3hu5tpIiwiROG7ryBsaeG7h3UgY8OzIHRoYXkgxJHhu5VpIiwiQuG6oW4gY8OzIHRo4buDIEzGsHUgbOG6oWkgaG/hurdjIEjhu6d5IGLhu48gc+G7sSB0aGF5IMSR4buVaSBuw6B5IGLhurFuZyBjw6FjaCBuaOG6pW4gPGkgY2xhc3M9J2NvbnRleHQtaGVscCB0aS1tb3VzZS1hbHQnPjwvaT4gdsOgbyBt4buZdCB0cm9uZyAwMiBuw7p0IGzhu4duaCBiw6puIHRyw6puIC4uLiIsIkLhuqFuIGPDsyB0aOG7gyBI4buneSBi4buPIHPhu7EgdGhheSDEkeG7lWkgbsOgeSBi4bqxbmcgY8OhY2ggbmjhuqVuIDxpIGNsYXNzPSdjb250ZXh0LWhlbHAgdGktbW91c2UtYWx0Jz48L2k+IHbDoG8gbsO6dCBs4buHbmggYsOqbiB0csOqbiAuLi4iXSwianNfMDA0XzE4IjpbIkPhuqduIHF1eeG6v3QgxJHhu4tuaCBj4bunYSBC4bqhbiEiLCI8ZGl2IGNsYXNzPSd0ZXh0LWNlbnRlcic+PHA+ROG7ryBsaeG7h3UgxJHDoyBjw7MgdGhheSDEkeG7lWkgc28gduG7m2kgYuG6o24gZ+G7kWMuPC9wPkLhuqFuIHZ1aSBsw7JuZyBuaOG6pW4gPGkgY2xhc3M9J2NvbnRleHQtaGVscCB0aS1tb3VzZS1hbHQnPjwvaT4gdsOgbyBt4buZdCB0cm9uZyBjw6FjIG7DunQgbOG7h25oIGLDqm4gZMaw4bubaSAuLi48L2Rpdj4iLCJYZW0ga+G6v3QgcXXhuqMgY8WpIiwiQ+G6rXAgbmjhuq10ICYgVMOtbmgiXSwianNfMDA0XzE5IjpbIsSQYW5nIHTDrW5oIGPDtG5nIiwiQuG6oW4gY8OzIHRo4buDIGThu6tuZyBs4bqhaSBi4bqxbmcgY8OhY2ggbmjhuqVuIG7DunQg4oCcIFN0b3Ag4oCdIC4uLiIsIlF1eSDGsOG7m2MgdMOtbmgiLCJC4bqhbiBjw7MgdGjhu4MgdGhheSDEkeG7lWkgcXV5IMaw4bubYyB2w6AgbmjhuqVuIG7DunQg4oCcIFTDrW5oIGzhuqFpIOKAnSIsIlTDrW5oIGzhuqFpIiwiVnVpIGzDsm5nIHjDoWMgbmjhuq1uIHRyxrDhu5tjIGtoaSBUw61uaCBs4bqhaS4iLCJYdeG6pXQga+G6v3QgcXXhuqMiLCJU4bqjaSBs4bqhaSBr4bq/dCBxdeG6oyJdLCJqc19nb2pzIjpbIkzhu4pDSCBDw5RORyBUw4FDIFRV4bqmTiIsIlRo4bupIDIiLCJUaOG7qSAzIiwiVGjhu6kgNCIsIlRo4bupIDUiLCJUaOG7qSA2IiwiVGjhu6kgNyIsIkMuTmjhuq10IiwiVOG7sSDEkeG7mW5nIHTDrW5oIE9UIG7hur91IHbDoG8gc+G7m20gaMahbjogIiwiVOG7sSDEkeG7mW5nIHTDrW5oIE9UIG7hur91IHJhIHbhu4EgdHLhu4UgaMahbjogIiwiR2nhu50gdsOgbzogIiwiR2nhu50gcmE6ICIsIlPhu5EgR2nhu50gY8O0bmcgbMOgbSB2aeG7h2M6ICIsInF1eSDEkeG7lWkgcmEgTmfDoHkgY8O0bmc6ICIsIkPDsyBwaMOibiBjw7RuZyBnaeG7nSBsw6BtIHZp4buHYzogIiwiTMOgIG5nw6B5IG5naOG7iSB0deG6p246ICIsIk7hur91IGPDsyBuaGnhu4F1IHRo4bq7IHJhIHRow6wgdMOtbmggdGjhurs6IiwiTuG6v3UgY8OzIG5oaeG7gXUgdGjhursgdsOgbyB0aMOsIHTDrW5oIHRo4bq7OiIsIlRI4bucSSBHSUFOIE5HSOG7iCBHSeG7rkEgQ0EiLCJTYXUgZ2nhu50gdsOgbyAocGjDunQpOiAiLCJU4buVbmcgc+G7kSBwaMO6dCBuZ2jhu4k6ICIsIkLhu48gcXVhIHRoYW0gc+G7kSBuw6B5IG7hur91IGdpw6EgdHLhu4sgPS0xXG5DaOG7iSB0w61uaCBraGkgZ2nDoSB0cuG7iyA+PTAgcGjDunQiLCJLaeG7g20gdsOgbz8iLCJLaeG7g20gcmE/IiwiR2nhu50gYuG6r3QgxJHhuqd1IG5naOG7iSIsIkjhur90IGdp4budIG5naOG7iSJdLCJqc19nb2pzXzEiOiJEaSBjaHV54buDbiBzxqEgxJHhu5MiLCJqc19nb2pzXzIiOiJN4buRYyAwIGdp4budIiwianNfZ29qc18zIjpbeyJpZCI6IjAiLCJkZXMiOiJz4bubbSBuaOG6pXQifSx7ImlkIjoiMSIsImRlcyI6InRy4buFIG5o4bqldCJ9XSwianNfZ29qc180IjpbIlThu5VuZyB0aOG7nWkgZ2lhbiIsIktob+G6o25nIHRo4budaSBnaWFuIHTDrW5oIFRo4bq7LVbDoG8gaOG7o3AgbOG7hyIsIktob+G6o25nIHRo4budaSBnaWFuIHTDrW5oIFRo4bq7LVbDoG8tVHLhu4UiLCJLaG/huqNuZyB0aOG7nWkgZ2lhbiB0w61uaCBUaOG6uy1W4buBLVPhu5ttIiwiS2hv4bqjbmcgdGjhu51pIGdpYW4gdMOtbmggVGjhurstUmEgIGjhu6NwIGzhu4ciLCJwaMO6dCJdLCJqc19nb2pzXzUiOlsiVsOgbyIsIlRy4buFIiwiU+G7m20iLCJSYSJdLCJqc19nb2pzXzYiOlsiWMOhYyBOaOG6rW4gVHLGsOG7m2MgS2hpIFjDs2E/IiwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbMOgIG114buRbiB4w7NhIENhIGvDrXAgxJFhbmcgY2jhu41uPyIsIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIGzDoCBtdeG7kW4geMOzYSB04bqldCBj4bqjIENhIGvDrXAiXSwianNfZ29qc183IjpbIljDoWMgTmjhuq1uIEzGsHUgVGhheSDEkOG7lWkgVGhhbSBT4buRIENhIEvDrXA/IiwiVOG7sSDEkeG7mW5nIEzGsHUga2jDtG5nIGPhuqduIGjhu49pIiwiKELhuq90IMSR4bqndSB0w61uaCB0aOG7nWkgZ2lhbiB2w6BvKSIsIihHaeG7nSB2w6BvIHF1eSDEkeG7i25oKSIsIihC4bqvdCDEkeG6p3UgdMOtbmggdsOgbyB0cuG7hSkiLCIoS+G6v3QgdGjDumMgdMOtbmggZ2nhu50gdsOgbykiLCIoQuG6r3QgxJHhuqd1IHTDrW5oIHRo4budaSBnaWFuIHJhKSIsIihN4buRYyB0aOG7nWkgZ2lhbiB0w61uaCB24buBIHPhu5ttKSIsIihHaeG7nSByYSBxdXkgxJHhu4tuaCkiLCIoS+G6v3QgdGjDumMgdMOtbmggZ2nhu50gcmEpIl0sImpzXzAwM18xIjoixJDDs25nIiwianNfMDAzX29rIjoiVGhhbyB0w6FjIGhvw6BuIHThuqV0LiIsImpzXzAwM19lcnIiOiLEkMOjIGPDsyBs4buXaSwgdnVpIGzDsm5nIHRo4butIGzhuqFpICEiLCJqc18wMDNfaGVscCI6IlRy4bujIGdpw7pwIiwianNfMDAzX2MiOlt7ImlkIjo0LCJkaXMiOiJUxINuZyBjYSJ9LHsiaWQiOjMxLCJkaXMiOiJDYSBrw61wIn0seyJpZCI6MzQsImRpcyI6IkjhuqFuIG3hu6VjIEPDtG5nIGjhu4cgdGjhu5FuZyJ9XSwianNfMDAxXzE1IjoiPGJyLz48YSBocmVmPWphdmFzY3JpcHQ6dm9pZCgmIzM5OzAmIzM5Oyk+PHN0cm9uZz5QaGnDqm4gYuG6o24gY8OgaSDEkeG6t3QgV2luZG93cyAvPC9zdHJvbmc+PC9hPiA8YSBocmVmPWphdmFzY3JpcHQ6dm9pZCgmIzM5OzAmIzM5Oyk+VGhp4bq/dCBr4bq/IGdp4bqjaSBwaMOhcCAmYW1wOyBQaOG6p24gbeG7gW0gLzwvYT4gPGEgaHJlZj1qYXZhc2NyaXB0OnZvaWQoJiMzOTswJiMzOTspPlRoaeG6v3QgYuG7iyBjaOG6pW0gY8O0bmc8L2E+IiwianNfMDAxXzE2IjoiVMOqbiBuaMOibiB2acOqbiIsImpzXzAwMV8xNyI6Ik3hu58gcmEgaOG6v3QiLCJqc18wMDFfMTgiOiJUaHUgZ+G7jW4gbOG6oWkiLCJqc18wMDFfMTkiOiJU4buVbmcgc+G7kSIsImpzXzAwMV8yMCI6IsSQYW5nIHThuqNpIiwianNfMDAxXzIxIjpbIk7hu68iLCJOYW0iXSwianNfMDAxXzIyIjoiTsSDbSIsImpzXzAwMV8yMyI6IsSQxINuZyBLw70gQ2jhuqVtIEPDtG5nIiwianNfMDAxXzI0IjoiTmjDs20gdGhlbyIsImpzXzAwMV8yNSI6IlZ1aSBsw7JuZyB4w6FjIG5o4bqtbiBi4bqhbiB0aOG6rXQgc+G7sSBtdeG7kW4geMOzYSA/IiwianNfMDAxXzI2IjoiVOG6o2kgbOG6oWkiLCJqc18wMDFfMjciOiJWdWkgbMOybmcgeMOhYyBuaOG6rW4gdHLGsOG7m2Mga2hpIHRp4bq/cCB04bulYyB0aOG7sWMgaGnhu4duLiIsImpzXzAwMV8yOCI6IuG7kiAhIMSQ4buLbmggZOG6oW5nIOG6o25oIGtow7RuZyBo4bujcCBs4buHLiIsImpzXzAwMV8yOSI6IljDs2EgdOG6pXQgY+G6oyDEkWFuZyBjaOG7jW4iLCJqc18wMDFfMzAiOiJRdeG6o24gbMO9IMSQxINuZyBuaOG6rXAiLCJqc18wMDdfMSI6Ik3DoyBBQyIsImpzXzAwN18yIjoiQ+G6p24gbmjhuq1wIG3DoyBBQyIsImpzXzAwN19hY25vIjoiVHLDuW5nIG3DoyBBQyIsImpzXzAwN18zIjoiTcOjIE4udmnDqm4iLCJqc18wMDdfNCI6IkPhuqduIG5o4bqtcCBtw6MgTmjDom4gdmnDqm4iLCJqc18wMDdfZW1wY29kZSI6IlRyw7luZyBtw6MgTmjDom4gdmnDqm4iLCJqc18wMDdfNSI6Ikjhu40gJiBsw7N0IiwianNfMDA3XzYiOiJD4bqnbiBuaOG6rXAgSOG7jSAmIGzDs3QiLCJqc18wMDdfNyI6IlTDqm4gTi52acOqbiIsImpzXzAwN184IjoiQ+G6p24gbmjhuq1wIFTDqm4gbmjDom4gdmnDqm4iLCJqc18wMDdfOSI6Ik5nw6B5IHNpbmgiLCJqc18wMDdfMTAiOiJOZ8OgeSB2w6BvIiwianNfMDA3XzExIjoixJDDoyBjw7MgbOG7l2ksIHZ1aSBsw7JuZyBraeG7g20gdHJhIGzhuqFpICEiLCJqc18wMDdfMTIiOiJHaeG7m2kgdMOtbmgiLCJqc18wMDdfMTMiOiJI4buTIFPGoSBOaMOibiBWacOqbiIsImpzXzAwN18xNCI6IlBow7JuZyBiYW4iLCJqc18wMDdfMTUiOiJDaOG7qWMgduG7pSIsImpzXzAwN18xNiI6IkLhurFuZyBj4bqlcCIsImpzXzAwN18xNyI6IkjDtG4gbmjDom4iLCJqc18wMDdfMTgiOiJUaMO0aSB2aeG7h2MiLCJqc18wMDdfMTkiOiLEkGnhu4duIHRob+G6oWkiLCJqc18wMDdfMjAiOiJT4buRIENNTkQiLCJqc18wMDdfMjEiOiJOZ8OgeSBj4bqlcCIsImpzXzAwN18yMiI6Ik7GoWkgY+G6pXAiLCJqc18wMDdfMjMiOiLEkOG7i2EgY2jhu4kiLCJqc18wMDdfMjQiOiJHaGkgY2jDuiIsImpzXzAwN18yNSI6IlThuqFvIG3hu5tpIiwianNfMDA3XzI2IjoiU+G7rWEiLCJqc18wMDdfMjciOiJYw7NhIiwianNfMDA3XzI4IjoiSMOsbmgg4bqjbmgiLCJqc18wMDdfMjkiOiJMxrB1IHRy4buvIiwianNfMDA3XzMwIjoiQuG7jyBxdWEiLCJqc18wMDdfMzEiOiJYw6FjIG5o4bqtbiB4w7NhIE5ow6JuIHZpw6puIiwianNfMDA3XzAzMSI6IkzGsHUgw70gbMOgIGLhuqFuIGtow7RuZyB0aOG7gyBwaOG7pWMgaOG7k2kgbmjDom4gdmnDqm4gYuG7iyB4w7NhICEiLCJqc18wMDdfMzIiOiJIb8OgbiB04bqldCB4w7NhIG5ow6JuIHZpw6puICEiLCJqc18wMDdfMzMiOiJC4bqhbiBjaOG6r2MgY2jhuq9uIGzDoCBtdeG7kW4geMOzYSBow6xuaCBOaMOibiB2acOqbj8iLCJqc18wMDdfMzQiOiJUaGFvIHTDoWMgaG/DoG4gdOG6pXQuIiwianNfMDA3XzM1IjoiVnVpIGzDsm5nIMSRaeG7gW4gxJHhuqd5IMSR4bunIHRyxrDhu51uZyBj4bqnbiB0aGnhur90LiIsImpzXzAwN18zNiI6IkNo4buNbiBuaMOibiB2acOqbiIsImpzXzAwN18zNyI6IsSQw7NuZyIsImpzX3Ukcl9pbmZvIjoiIn0=".atou()),e=apisvr.goSHIFT(t,i,!0,n,r[0]),a=JSON.parse(atob("eyJpZCI6Ik9IIiwiaSI6W3sidCI6Ik9IIn0sW10seyJ0IjoiSOBuaCBjaOFuaCJ9LHsidCI6IjA4OjAwIn0seyJ0IjoiMTc6MDAifV0sIl90IjoiZl8wMDRfMTAifQ=="));e.show(a,void 0),Main.isMobile()||new PerfectScrollbar(r.find(">div:last-child")[0],{})}),"tikestep_s1_gojs.js")}),"gojs.js"),o[0]})),setTimeout((function(){e.modal("show")}),1)};return e.find("li:has(ul)").addClass("parent_li").off("click").on("click","div.btn",(function(t){if(t.stopPropagation(),"mnu_edit_shift"==$(t.currentTarget).attr("mnu")){const i=t.currentTarget.getBoundingClientRect(),n=e.closest(".row").prev(),o=n.off("shown.bs.dropdown").on("shown.bs.dropdown",(function(t){var e=$(t.relatedTarget).data()["bs.dropdown"]._popper;e.options.onUpdate=function(){n.trigger("click.bs.dropdown.data-api"),e.destroy()}})).parent()[0].getBoundingClientRect();n.find(">div:first-child").css({left:i.left-o.left,top:i.top-o.top-10,height:i.height+10}).off("click").on("click","a",(function(t){"sua_shift"==$(t.currentTarget).attr("mnu")&&a()})).trigger("click.bs.dropdown.data-api")}})).find(" > span").attr("title","Collapse this branch"),e.find("li.parent_li > span").on("click",(function(t){var e=$(this).parent("li.parent_li").find(" > ul > li");e.is(":visible")?(e.hide("fast"),$(this).attr("title","Expand this branch").find(" > i").addClass("fa-plus-circle").removeClass("fa-minus-circle")):(e.show("fast"),$(this).attr("title","Collapse this branch").find(" > i").addClass("fa-minus-circle").removeClass("fa-plus-circle")),t.stopPropagation()})),i$Desk&&(g.tree_scrollPerfect||(g.tree_scrollPerfect=new PerfectScrollbar(e.parent()[0],{suppressScrollX:!0}))),e.closest(".csspinner").removeClass("csspinner"),this.cakip_tree=function(){},$.Deferred().resolve()},cakip_clock:function(t){var e=1,a=function(){return 180};return(a._shiftARC=t.find(".dog_clock")).parent().removeClass("invisible").closest(".csspinner").removeClass("csspinner"),setInterval((function(){var t=new Date,i=t.getHours(),n="AM";i>12&&(i-=12,n="PM");var o,r,s,l,u=t.getMinutes(),c=t.getSeconds();$("div b:nth-child(1)").text(i),$("div b:nth-child(2)").text(u),$("div b:nth-child(3)").text(c),$("div b:nth-child(4)").text(n),0==c&&e%2!=0&&(c=60),o=30*i+u/2,r=6*u,s=6*c,(l=a._shiftARC[0].getContext("2d")).clearRect(0,0,400,400),l.lineWidth=15,l.strokeStyle="#87D37C",l.beginPath(),e%2==0?l.arc(200,180,130,90,90+s*Math.PI/180,!0):l.arc(200,180,130,90,90+s*Math.PI/180),l.stroke(),l.closePath(),l.strokeStyle="#4ECDC4",l.beginPath(),l.arc(200,180,100,0,r*Math.PI/180),l.stroke(),l.closePath(),l.strokeStyle="#6C7A89",l.beginPath(),l.arc(200,180,70,0,o*Math.PI/180),l.stroke(),60!=c&&0!=c||e++}),1e3),function(){var t=$(".run_clock"),e=t.find("> g");getComputedStyle(e[0]).getPropertyValue("transform"),e[0].setAttribute("transform","matrix(1, 0, 0, 1,200,180)"),t.css({width:400,height:400});var a,i,n,o=new Date,r={},s=t.find(".shift_numbers")[0],l=t.find(".shift_ticks")[0];for(var u in r.second=(o.getSeconds()+o.getMilliseconds()/1e3)/60,r.minute=(o.getMinutes()+r.second)/60,r.hour=(o.getHours()%12+r.minute)/12,r)t.find(".shift_"+u).attr("transform","rotate("+360*r[u]+")");function c(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t,e,a,i){var n=c("line");n.setAttribute("x1",e-a),n.setAttribute("x2",e),n.setAttribute("y1","0"),n.setAttribute("y2","0"),n.setAttribute("transform","rotate("+i+")"),t.appendChild(n)}for(var h=0;h<12;h++){i=c("text"),n=Math.PI/6*h,i.setAttribute("x",114*Math.cos(n)),i.setAttribute("y",114*Math.sin(n)),i.innerHTML=(h+2)%12+1,s.appendChild(i),d(l,104,16,a=30*h);for(var g=1;g<5;g++)d(l,104,8,a+6*g)}}(),this.cakip_clock=function(){},$.Deferred().resolve()},chartLIB:function(t){var e=$.Deferred();return window.Chart?e.resolve():11==GetIEVersion()?_gsC("https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js","js",(function(){e.resolve()}),"chart.min.js"):_gsC(deV.chartjs,"js",(function(){e.resolve()}),""),e.promise()},chrt_gender_age_pie:function(t){var e=$.Deferred(),a=this;return $.when(this.chartLIB()).done((function(i){var n=o.dbLOD,r=t.find("canvas.piechart"),s=["d-block","d-none"];a.chartLIB.pie=new Chart(r[0].getContext("2d"),{type:"pie",data:n.pie,options:{radius:140,layout:{padding:{left:40}},responsive:!0,maintainAspectRatio:!1,showAllTooltips:!0,animation:{duration:300,animateRotate:!0,animateScale:!0},elements:{arc:{borderColor:"#fff"}},title:{display:!0,text:"Custom Chart Title",fontSize:18,padding:20,fontColor:"#999",fontStyle:"Normal",fontFamily:"Montserrat",fullWidth:!0},legend:{display:!0,position:"bottom",labels:{boxWidth:30,fontColor:"#999",fontFamily:"Montserrat",fullWidth:!0}},tooltips:{enabled:!1,bodyFontColor:"#efefef",fontStyle:"Normal",bodyFontFamily:"Montserrat",cornerRadius:2,backgroundColor:"#333",xPadding:7,yPadding:7,caretSize:5,bodySpacing:10},plugins:{tooltip:{enabled:!1},datalabels:{textAlign:"center",formatter:function(t,e){if(1!=e.datasetIndex){var a=e.dataIndex,i=e.chart.data.datasets[e.datasetIndex].labels[a];return 0==t?"":i+"\n("+t+")"}},labels:{position:"outside"}},legend:{display:!0,position:"right",align:"start",fontFamily:"Arial",labels:{usePointStyle:!1,generateLabels:function(t){const e=t.data.datasets;if(e.length>1&&e[2].labels){for(var a=[],i=e[2].labels.length-1;i>-1;i--){var n=e[2].labels[i],o=t.getDatasetMeta(2).controller.getStyle(i);a.push({text:n+" - "+e[2].data[i],fontColor:"dark"==cS$.c0lor?"#ddd":void 0,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:!t.getDataVisibility(i)})}return a}return[]}}}}},plugins:[$.extend({beforeLayout:function(t){e.resolve()},beforeDraw:function(t,e,a,i){const n=t.getDatasetMeta(0),o=n.controller.innerRadius,r=n.controller.outerRadius-o,s=t.getDatasetMeta(0).data.length,l=Math.floor(r/s);n.data.forEach((function(t,e){var a=t._view||t;e>=u&&(a.outerRadius=o+10*l,a.innerRadius=o+10)}))}},Main._plugCHRT.PLUG("pie_outside"))]}),a.chrt_gender_age_pie=function(){return e=$.Deferred(),$.when(h()).done((function(){n=o.dbLOD,e.resolve(),a.chartLIB.pie.config.data=n.pie,a.chartLIB.pie.update(),r.removeClass(s.join(" ")).addClass(s[0==n.cnt?1:0]),r.next().removeClass(s.join(" ")).addClass(s[0==n.cnt?0:1]),r.closest(".csspinner").removeClass("csspinner")})),e.promise()},r.removeClass(s.join(" ")).addClass(s[0==n.cnt?1:0]),r.next().removeClass(s.join(" ")).addClass(s[0==n.cnt?0:1]),r.closest(".csspinner").removeClass("csspinner")})),e.promise()},chrt_gender_age_bar:function(t){var e=$.Deferred(),a=this;return $.when(this.chartLIB()).done((function(i){var n=t.find(".columnchart"),s=n[0].getContext("2d"),u=s.createLinearGradient(0,0,0,600);u.addColorStop(0,"orange"),u.addColorStop(1,"purple");var d=s.createLinearGradient(0,0,170,0);d.addColorStop(0,"black"),d.addColorStop(1,"white");var g=s.createLinearGradient(0,20,0,220);g.addColorStop(0,"green"),g.addColorStop(.5,"cyan"),g.addColorStop(1,"green");var p=10,I=80,b=function(){var t,e={};return"dark"==cS$.c0lor&&(e={color:"#4d4d4d"},t="#dedede"),11==GetIEVersion()?{xAxes:[{stacked:!0,gridLines:e,ticks:{fontColor:t}}],yAxes:[{stacked:!1,position:"right",ticks:{beginAtZero:!0,min:p,max:I,fontColor:t},gridLines:e}]}:{x:{stacked:!0,tickLength:15,grid:e,ticks:{color:t}},y:{stacked:!1,position:"right",min:p,max:I,grid:e,ticks:{color:t}}}},f={type:"bar",data:{labels:["(Drag to change)"],datasets:l},options:{animation:!1,responsive:!0,maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,displayColors:!1},scales:b(),layout:{padding:{left:120}},plugins:{datalabels:{formatter:function(t,e){return 0==e.datasetIndex&&0==e.dataIndex?t[1]>t[0]?"< "+t[1]:"":t.join(" - ")}},legend:{display:!1,labels:{usePointStyle:!0,fontColor:"red",generateLabels:function(t){console.log("generateLabels")}}}}},plugins:[Main._plugCHRT.PLUG("pluginBAR_LBL"),{beforeLayout:function(t){e.resolve()}}]},m=function(e){function i(t){t=t||{};var i,n=this,l=window,u=document,c=u.createElement("div"),d=$('<span class="ui-slider-handle"></span>')[0],h=!1,g=t.dragRECT||u,b=0,f=0,m=0,G=0,w=w||t.vertical||!1,v=w?"offsetHeight":"offsetWidth",y=w?"top":"left",O=w?"pageY":"pageX",M=-1;function B(t){return"function"==typeof t}function C(t,e,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent?e.attachEvent("on"+t,a):e["on"+t]=a}function D(t,e,a){e.removeEventListener?e.removeEventListener(t,a):e.detachEvent?e.detachEvent("on"+t,a):e["on"+t]=null}function j(t,e){e.classList?e.classList.add(t):e.className+=" "+t}function k(t,e,a){return t<e?e:t>a?a:t}function S(t){return t.preventDefault&&t.preventDefault(),!1}function L(){b=c[v],m=c.getBoundingClientRect().top,f=d[v]}function _(t){clearTimeout(M),M=setTimeout((function(){n.RZval(G),a.chartLIB.bar&&a.chartLIB.bar.update(),a.chartLIB.pie&&a.chartLIB.pie.update()}),300)}function x(e){return L(),h=!0,D("touchmove",g,q),D("mousemove",g,q),C("touchmove",g,q),C("mousemove",g,q),D("touchend",u,z),D("mouseup",u,z),C("touchend",u,z),C("mouseup",u,z),B(t.start)&&t.start(G,n,e),S(e)}function q(e){return function(e){e=e||l.EVTs;var a=e.touches?e.touches[0][O]:e[O],i=k(a-m,0,b),o=parseInt(k((a-m)/b*(I-p),0,I-p));h&&(d.style[y]=i-f/2+"px",G=Math.round(o),B(t.drag)&&t.drag(G,n,e))}(e),S(e)}function z(e){h=!1,d.style[y]=G/(I-p)*b-f/2+"px",D("touchmove",g,q),D("mousemove",g,q),D("touchend",u,z),D("mouseup",u,z),B(t.stop)&&t.stop(G,n,e)}return j("range-slider",n),j("position-absolute",n),n.style.top=e.top+"px",c.style.height=e.bottom-e.top+"px",j("range-slider-"+(w?"vertical":"horizontal"),n),j("range-slider-track",c),j("dragger",d),B(t)&&(t={drag:t}),n.RZval=function(e,a){if(clearTimeout(M),void 0===e)return G;G=a?o(e):e,L(),h=!1,d.style[y]=G/(I-p)*b-f/2+"px",B(t.drag)&&t.drag(G,n)},C("touchstart",d,x),C("mousedown",d,x),C("resize",l,_),c.appendChild(d),n.appendChild(c),r.push((function(){D("resize",l,_),D("touchstart",d,x),D("mousedown",d,x),D("touchend",u,z),D("mouseup",u,z),D("touchmove",g,q),D("mousemove",g,q)})),L(),i=s[t.atV],G=k(void 0!==i.v?i.v:p,p,I),d.style[y]=G/(I-p)*b-f/2+"px",B(t.create)&&t.create(G,n),B(t.drag)&&t.drag(G,n),n}var n=t.find(".tovic_range"),o=function(t){return I-t},s=f.data.datasets.reduce((function(t,e){return t.push({v:o(e.data[0][1])}),t}),[]);n.each((function(t,e){e.style.left=20+22*t+"px",i.bind(e,{atV:t,dragRECT:n.parent()[0],vertical:!0,tip_V:$('<span class="ui-slider-tip">0</span>')[0],create:function(t,e){e.firstChild.firstChild.appendChild(this.tip_V)},start:function(){},drag:function(t,e){this.tip_V.innerHTML=o(t),e._val=o(t)},stop:function(){var t=n.slice(0);t.sort((function(t,e){return t._val-e._val}));for(var e=1;e<t.length;e++)f.data.datasets[e].data=[[t[e-1]._val,t[e]._val]];f.data.datasets[0].data=[[p,f.data.datasets[1].data[0][0]]],f.data.datasets[t.length].data[0][0]=t[t.length-1]._val,c(),a.chartLIB.bar.update(),a.chartLIB.pie.update()}})()})),m=[n]};a.chartLIB.bar=new Chart(s,f),m(a.chartLIB.bar.chartArea),n.parent().closest(".csspinner").removeClass("csspinner"),a.chrt_gender_age_bar=function(){return e=$.Deferred(),$.when(h()).done((function(t,i){p=1==o.sexMNU?10:0,I=1==o.sexMNU?80:40;var r=a.chartLIB.bar.config;r.options.scales=b(),a.chartLIB.bar.update(),m[0].each((function(t){this.RZval(r.data.datasets[t].data[0][1],1)})),n.parent().closest(".csspinner").removeClass("csspinner"),e.resolve()})),e.promise()}})),e.promise()},activity_log:function(t,e){const i=$(e).scrollTop(0).removeClass("csspinner").find("li.timeline-item:last-child").removeClass("d-none"),n=this,r=$.Deferred(),s=function(){a.svrDAT({uri:"/api/headermaster",act:"GET",qry:"acts"}).done((function(t){t=JSON.parse(t);for(var a=[],l=["info","success","warning","danger","","","","primary",'<a class="text-info">'+(_La$N("js_013_13|4",o.lan)||"Import")+"</a> "+(_La$N("js_013_13|5",o.lan)||" employees profile from Excel"),'<i><a class="text-success">'+_La$N("js_007_25",aLAN)+"</a> "+(_La$N("js_013_13|3",o.lan)||"employee")+"</i>",'<i><a class="text-warning">'+_La$N("js_007_26",aLAN)+"</a> "+(_La$N("js_013_13|3",o.lan)||"employee")+"</i>",'<i><a class="text-danger">'+_La$N("js_007_27",aLAN)+"</a> "+(_La$N("js_013_13|3",o.lan)||"employee")+"</i>","","","",'<i><a class="text-primary">'+(_La$N("js_013_13|7",o.lan)||"Import")+"</a> "+(_La$N("js_013_13|8",o.lan)||" data from backup file")+"</i>"],u=function(t){var e=0,a="";switch(t.KY){case 1:break;case 2:e=t.ki,a="<small>"+t[0].acno+" / "+t[0].empcode+" / "+t[0].ho+" "+t[0].ten+"</small>";break;case 3:e=7}return $('<li class="timeline-item '+l[e]+'">      <div class="margin-left-15">           <div class="text-muted text-small">'+nga_sDt24(new Date(t._t),!1)+"</div>          <p>"+l[e+8]+" "+a+"</p>      </div></li>")},c=function(t,e){return e?"("+(t.length-n.activity_log.xemTiep[0])+"/"+t.length+") "+(_La$N("js_013_13|6",o.lan)||"view more")+" ...":(_La$N("js_013_13|2",o.lan)||"Total")+": "+t.length},d=function(){t=n.activity_log.newHIS,a=[];for(var o=0;o<t.length;o++)if(t[o]._t<n.activity_log.xemTiep[1]._t){if(10==a.length)break;n.activity_log.xemTiep=[t.length-o-1,t[o]],a.push(u(t[o]))}a.length>0&&(i.appendTo(i.closest("ul")),p.html(c(t,n.activity_log.xemTiep[0]>0)),i.closest("ul").append(a),$(e).scrollTop(e.scrollHeight)),p.removeClass("d-none"),i.addClass("d-none")},h=0;h<t.length;h++){if(n.activity_log.newHIS){if(t[h]._t<=n.activity_log.newHIS[0]._t)break}else if(10==a.length){n.activity_log.xemTiep=[t.length-h,t[h-1]];break}a.push(u(t[h]))}var g=!1,p=i.closest("ul").prepend(a).next().off("click");0==t.length?(g=!0,a=(_La$N("js_013_13|1",o.lan)||"No log")+'...<i class="ml-2 fa fa-refresh"></i>'):(n.activity_log.newHIS=t,g=!0,a=c(t,n.activity_log.xemTiep&&n.activity_log.xemTiep[0]>0)),p[(g?"remove":"add")+"Class"]("d-none").html(a).on("click",(function(t){n.activity_log.newHIS?n.activity_log.xemTiep&&(i.appendTo(i.closest("ul")).removeClass("d-none"),p.addClass("d-none"),setTimeout(d,500)):(i.removeClass("d-none"),$(this).addClass("d-none"),setTimeout(s,500))})),i.addClass("d-none"),r.resolve("OK")})).fail((function(t){r.resolve("OK")}))};return i.prependTo(i.closest("ul")),setTimeout(s(),1500),i$Desk&&(g.log_scrollPerfect||(g.log_scrollPerfect=new PerfectScrollbar(e,{suppressScrollX:!0}))),r.promise()},pb_cv:function(t,e){var i=function(t){for(var a=0,i=["secid","posid"],s={};a<n.length&&!$(n[a]).hasClass("active");a++);r.empty();const l=JSON.parse(n[a]._dat);for(var u=0;u<l.length;u++)for(var c in l[u].sl=0,o.pie_gender)if(o.pie_gender.hasOwnProperty(c)){const t=o.pie_gender[c].filter((function(t){return s[t.acno]||(s[t.acno]=1),t[i[a]]==l[u].id&&(s[t.acno]=2,!0)}));l[u].sl+=t.length}for(var c in a=[],s)s.hasOwnProperty(c)&&1==s[c]&&a.push(c);a.length>0&&l.push({dis:"( "+(_La$N("js_013_14|2",o.lan)||"Blank status")+" )",id:-1,sl:a.length}),a=o.dbLOD.cnt;for(c=0;c<l.length;c++)r.append('<tr><td class="center">'+(c+1)+"</td><td>"+l[c].dis+"</td><td>"+l[c].sl+"</td><td>"+(a>0?fmtNB(parseFloat((l[c].sl/a).toFixed(2))):0)+" %</td></tr>");$(e).removeClass("csspinner"),t&&srclocked(!1)},n=$(e).find("a.nav-link").on("show.bs.tab",(function(t){srclocked(!0),setTimeout((function(){i(t)}),10)})),r=$(e).find(".pb_cv_body");return this.pb_cv=function(){var t=$.Deferred();return a.svrDAT({uri:"/api/headermaster",act:"GET",qry:"jdat"}).done((function(e){n[0]._dat=JSON.stringify(e.secs||[]),n[1]._dat=JSON.stringify(e.poss||[]),i(),t.resolve()})),t.promise()},i$Desk&&(g.pb_cv_scrollPerfect||(g.pb_cv_scrollPerfect=new PerfectScrollbar($(e).find(".dog_table_fixed_head")[0],{suppressScrollX:!0}))),this.pb_cv()},jvectormap_visitor:function(t){_gsC(" https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap.css","css",(function(){}),"jquery-jvectormap.css"),_gsC(srcp$f+"/media/utils/jsc/jquery-jvectormap-2.0.5.min.js"+src$id,"js",(function(){var e=t.find(".jvectormap_visitor"),a=function(){$('<div class="h-100" style="min-height:200px;position: relative;overflow: hidden;background-color: transparent;"></div>').appendTo(t.find(".jvectormap_visitor")).vectorMap({onViewportChange:function(t){$(t.target).closest(".panel-body").removeClass("csspinner")},map:"world_mill",backgroundColor:"transparent",borderOpacity:.25,borderWidth:0,color:"#e6e6e6",regionStyle:{initial:{fill:"#e4ecef"}},markerStyle:{initial:{r:7,fill:"hotpink","fill-opacity":1,stroke:"#81dd4d","stroke-width":2,"stroke-opacity":.4}},markers:[{latLng:[21,78],name:"INDIA : 350"},{latLng:[-33,151],name:"Australia : 250"},{latLng:[36.77,-119.41],name:"USA : 250"},{latLng:[55.37,-3.41],name:"UK   : 250"},{latLng:[25.2,55.27],name:"UAE : 250"}],series:{regions:[{values:{US:298,SA:200,AU:760,IN:200,GB:120},scale:["#03a9f3","#02a7f1"],normalizeFunction:"polynomial"}]},hoverOpacity:null,normalizeFunction:"linear",zoomOnScroll:!1,scaleColors:["#b6d6ff","#005ace"],selectedColor:"#c9dfaf",selectedRegions:[],enableZoom:!1,hoverColor:"#fff"})};setTimeout(a,500),g.jvectormap_visitor=function(){e.find("*").off().unbind().removeData(),e.empty(),setTimeout(a,500)}}),"jquery-jvectormap.min.js")}};this.init=function(t,n,d,p,I){e=d,a=n("dbEngine");var b,f=function(){o.title[0].html(_La$N("js_013_1",o.lan)),v.fadeOut("fast",(function(){v.next().fadeIn("slow",m)}))},m=function(e){e||1!==f.uptep||(f.uptep=0,O.changed)?(delete O.changed,g.lazyLOD=t.find("[lazy]").addClass("csspinner"),g.track()):g.jvectormap_visitor(t)},G=t.find(".csspinner"),w=t.find(".init_data"),v=t.find(".upload_hsnv_excel").on("click",".sample_xls",(function(t){M(t)})),y=function(t){if("theme"!==t.type){var e=$(t.currentTarget),a=e.attr("mnu");if(a==o.sexMNU)return;o.sexMNU=a,e.find("i:last-child").addClass("ti-check").closest(".lang-lst").find('a[mnu="'+("1"==a?"2":"1")+'"] i:last-child').removeClass("ti-check");for(var i=[],n=0;n<u;n++)i.push(l[n].data[0]),l[n].data[0]=s[n];s=i,c()}g.chartLIB.pie&&g.chrt_gender_age_pie(),g.chartLIB.bar&&g.chrt_gender_age_bar()};t.find(".lang-lst").on("click","a",y),o.lan=JSON.parse(JSON.parse(atob(w.text())).lan),w.remove(),t.on("shown.bs.tab",(function(t){})).on("click",".wrap-content .links a",(function(i,n){if("backup"===i.currentTarget.getAttribute("mnu"))return srclocked(!0),void setTimeout((function(){a.svrDAT({uri:"/api/headermaster",act:"GET",qry:"backup"}).done((function(t){var e="apphrm.dat",a=new Blob([t.utoa()],{type:"application/octet-stream"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,e);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(a),i.download=e,i.click()}srclocked(!1)})).fail((function(t){}))}),100);if("restore"!==i.currentTarget.getAttribute("mnu")){srclocked(!0);var r=1;_gsC(srcpf$+"/media/js/JS_JS_nhapxuat_up.js"+src$id,"js",(function(){b||((b=Main._upl0d.createUPL({lan:o.lan,_tabId:e,$mainO:a})).init(v),o.title[0].parent().prev().find(".system_monitor").on("click",f),r=0);var i=t.find(".jvectormap_visitor");i.find("*").off().unbind().removeData(),i.empty(),o.title[0].html(_La$N("js_013_0",o.lan)),v.next().fadeOut("fast",(function(){v.fadeIn("slow"),1===r&&b.reset_S((function(){srclocked(!1)})),f.uptep=v.is(":visible")?1:0}))}),"JS_JS_nhapxuat_up.js")}else $(i.currentTarget).prev().off("change").on("change",(function(t){var i,n;t.currentTarget.files.length>0&&(i=t.currentTarget.files[0],(n=new FileReader).readAsText(i),n.onload=function(){srclocked(!0),devDlg(1,_La$N("js_001_27",aLAN),null,{cb:function(t){srclocked(!1)}}).show().done((function(t){1==t&&a.svrDAT({uri:"/api/headermaster",act:"GET",qry:"restore",dat:n.result.atou()}).done((function(t){admin$.semiLOD.push(e),elTAB.find(".chrome-tab-close").each((function(t,e){e.click()}))}))}))},n.onerror=function(){console.log(n.error)},t.currentTarget.value="")}))})).find("[data-lang]").each((function(t,e){var a=e.getAttribute("data-lang");$(e).html(_La$N(a,o.lan)),"js_013_1"==a&&(o.title=[$(e)])})),t.on("theme",y).on("onActived",(function(t,e){1===e.state&&O.changed&&1!==f.uptep&&m(1)})).find(".sample_xls").on("click",(function(t){M(t)}));var O=function(t,e){if(0===shaEVT_NAN.indexOf(t.type))delete o.dbLOD,O.changed=[t.type,e]},M=function(t){t.preventDefault(),window.location.href="https://hellohrm.github.io/utils/media/utils/tmplexcel/import_sample.xlsx"};$("#app").on(shaEVT_NAN[0],O),r.push((function(){$("#app").off(shaEVT_NAN[0],O),$("#app").off("scroll",g.job),g.tree_scrollPerfect&&g.tree_scrollPerfect.destroy(),g.log_scrollPerfect&&g.log_scrollPerfect.destroy(),g.pb_cv_scrollPerfect&&g.pb_cv_scrollPerfect.destroy()})),i=t.find(".chart_table"),g.lazyLOD=G,g.frmEL=t,$.when(h()).done((function(t){g.track(),srclocked(!1)}))},this.dispose=function(){for(var t=0;t<r.length;t++)r[t]();t=void 0,$("#tabBODY_"+e).trigger("dispose")}}}();