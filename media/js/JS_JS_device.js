w0w.tabglobalJS.JS_JS_device=function(){"use strict";function t(t){var i,a,e,s={_lod:function(t){window.hasOwnProperty("GetIEVersion")&&11!=GetIEVersion()&&_gsC(deV.chartjs,"js",t,"chart.min.js")},_deviceDAT:{l:[],d1:[],d2:[],dI:[],maxY:function(){return this.d2.reduce((function(t,i){return t<i[1]&&(t=i[1]+10),t}),50)},devcap:function(t,i){var a=JSON.parse(t)[2].split("-");return[a,-9999==i?0:parseInt(a[8])/1e3,-9999==i?0:(parseInt(a[8])-parseInt(a[2]))/1e3]},init:function(t){for(var i,a=this,e=0;e<t.length;e++)t[e].wdmo.length<3||(i=a.devcap(t[e].wdmo,t[e].kind),a.l.push(t[e].id),a.d1.push([0,i[1]-i[2]]),a.d2.push([0,i[1]]),a.dI.push(i[0]))},add:function(t){var i=this,a=i.devcap(t.wdmo,t.kind);i.l.push(t.id),i.d1.push([0,a[1]-a[2]]),i.d2.push([0,a[1]]),i.dI.push(a[0]),e&&e.update()},upt:function(t,i){var a=this,s=a.devcap(t.wdmo,t.kind);a.l[i]=t.id,a.d1[i]=[0,s[1]-s[2]],a.d2[i]=[0,s[1]],a.dI[i]=s[0],e&&e.update()},rmv:function(t,i){var a=this;a.l.splice(t,i),a.d1.splice(t,i),a.d2.splice(t,i),a.dI.splice(t,i),e&&e.update()}},_deviceMEM:function(t,i){var a=this._deviceDAT;a.init(t);var r,o={type:"bar",data:{labels:a.l,datasets:[{maxBarThickness:50,label:"min",backgroundColor:"rgba(240, 140, 121, 1.0)",borderColor:"rgba(140, 140, 140, 0.0)",borderWidth:0,data:a.d1,fill:"-1",radius:0},{maxBarThickness:50,label:"max",backgroundColor:"rgba(121, 200, 121, 0.8)",borderColor:"rgba(140, 140, 140, 0.0)",borderWidth:0,data:a.d2,fill:"-1",line:!1,radius:0}]},options:{animation:{duration:300,onComplete:function(t){clearTimeout(r),r=setTimeout((function(){var i=t.chart.ctx,a=t.chart.scales.y,e=t.chart.config.data.datasets,s=[];i.textAlign="center",i.textBaseline="bottom",i.fillStyle="#007aff",i.strokeStyle="dark"==cS$.c0lor?"#4d4d4d":"#ddd",i.lineWidth=1;var r=[];e.forEach((function(o,l){var c=t.chart._metasets[l],m=l;c.data.forEach((function(t,o){var l,c;i.fillText(0==m?(s.push(t.$context.raw[1]),""):(l=t.$context.raw[1],c=l-s.shift(),"free: "+n(1e3*c)+" ("+d(100*c/l)+"%)"),t.x,t.y+20);var u=t.x+100;-1==r.indexOf(u)&&m<e.length-1&&(r.push(u),i.beginPath(),i.moveTo(u,a.top),i.lineTo(u,100),i.stroke())}))}))}),50)}},hover:{mode:null},events:[],plugins:{legend:{display:!1},tooltip:{enabled:!1}},responsive:!0,title:{display:!1,text:"Chart.js stackable with Min/Avg/Max"},scales:{x:{stacked:!0,time:{tooltipFormat:"DD T"},format:"HH mm",grid:{borderWidth:0},ticks:{callback:function(t,i,e){var s=parseInt(a.dI[i][8]),r=parseInt(a.dI[i][2]);return n(s)+" (used: "+n(r)+" ~ "+d(100*r/s)+"%)"}}},y:{stacked:!1,scaleLabel:{display:!0,labelString:"value"},display:!1,max:a.maxY.bind(a)}}}},l=i.getContext("2d");s._lod((function(){e=new Chart(l,o)}))}},n=function(t){return parseInt(t).toLocaleString(apisvr.a$.selected_language,{maximumFractionDigits:0})},d=function(t){return t.toLocaleString(apisvr.a$.selected_language,{minimumFractionDigits:2,maximumFractionDigits:2})};var r,o,l,c=t.ua>1?"UA":"noU",m={socIO:null,WDM:{},dbNa:"bHN0TUND",__:["d2Rtc19jb25u","X2NtZGRldg","SlNfZGV2aWNlX3NldHRpbmc"],___:["RTEVT","WDMS_CMD","DEV_JOIN_RMV"],lan:{},dogTimezone:[{id:2e3,tim:"2000",dis:"(Default)"},{id:0,tim:"-12",dis:"(-12:00) International Date Line West"},{id:1,tim:"-11",dis:"(-11:00) Coordinated Universal Time-11"},{id:2,tim:"-10",dis:"(-10:00) Hawaii"},{id:3,tim:"-9",dis:"(-09:00) Alaska"},{id:4,tim:"-7",dis:"(-08:00) Baja California"},{id:5,tim:"-7",dis:"(-07:00) Pacific Time (US &amp; Canada)"},{id:6,tim:"-8",dis:"(-08:00) Pacific Time (US &amp; Canada)"},{id:7,tim:"-7",dis:"(-07:00) Arizona"},{id:8,tim:"-6",dis:"(-07:00) Chihuahua, La Paz, Mazatlan"},{id:9,tim:"-6",dis:"(-07:00) Mountain Time (US &amp; Canada)"},{id:10,tim:"-6",dis:"(-06:00) Central America"},{id:11,tim:"-5",dis:"(-06:00) Central Time (US &amp; Canada)"},{id:12,tim:"-5",dis:"(-06:00) Guadalajara, Mexico City, Monterrey"},{id:13,tim:"-6",dis:"(-06:00) Saskatchewan"},{id:14,tim:"-5",dis:"(-05:00) Bogota, Lima, Quito"},{id:15,tim:"-4",dis:"(-05:00) Eastern Time (US &amp; Canada)"},{id:16,tim:"-4",dis:"(-05:00) Indiana (East)"},{id:18,tim:"-4",dis:"(-04:00) Asuncion"},{id:19,tim:"-3",dis:"(-04:00) Atlantic Time (Canada)"},{id:20,tim:"-4",dis:"(-04:00) Cuiaba"},{id:21,tim:"-4",dis:"(-04:00) Georgetown, La Paz, Manaus, San Juan"},{id:22,tim:"-4",dis:"(-04:00) Santiago"},{id:24,tim:"-3",dis:"(-03:00) Brasilia"},{id:25,tim:"-3",dis:"(-03:00) Buenos Aires"},{id:26,tim:"-3",dis:"(-03:00) Cayenne, Fortaleza"},{id:27,tim:"-3",dis:"(-03:00) Greenland"},{id:28,tim:"-3",dis:"(-03:00) Montevideo"},{id:29,tim:"-3",dis:"(-03:00) Salvador"},{id:30,tim:"-2",dis:"(-02:00) Coordinated Universal Time-02"},{id:31,tim:"-1",dis:"(-02:00) Mid-Atlantic - Old"},{id:33,tim:"-1",dis:"(-01:00) Cape Verde Is."},{id:34,tim:"1",dis:"(+01:00) Casablanca"},{id:35,tim:"0",dis:"(+00:00) Coordinated Universal Time"},{id:36,tim:"0",dis:"(+00:00) Edinburgh, London"},{id:37,tim:"1",dis:"(+01:00) Edinburgh, London"},{id:38,tim:"1",dis:"(+01:00) Dublin, Lisbon"},{id:39,tim:"0",dis:"(+00:00) Monrovia, Reykjavik"},{id:40,tim:"2",dis:"(+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna"},{id:41,tim:"2",dis:"(+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague"},{id:42,tim:"2",dis:"(+01:00) Brussels, Copenhagen, Madrid, Paris"},{id:43,tim:"2",dis:"(+01:00) Sarajevo, Skopje, Warsaw, Zagreb"},{id:44,tim:"1",dis:"(+01:00) West Central Africa"},{id:45,tim:"1",dis:"(+01:00) Windhoek"},{id:46,tim:"3",dis:"(+02:00) Athens, Bucharest"},{id:47,tim:"3",dis:"(+02:00) Beirut"},{id:48,tim:"2",dis:"(+02:00) Cairo"},{id:49,tim:"3",dis:"(+02:00) Damascus"},{id:50,tim:"3",dis:"(+02:00) E. Europe"},{id:51,tim:"2",dis:"(+02:00) Harare, Pretoria"},{id:52,tim:"3",dis:"(+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius"},{id:53,tim:"3",dis:"(+03:00) Istanbul"},{id:54,tim:"3",dis:"(+02:00) Jerusalem"},{id:55,tim:"2",dis:"(+02:00) Tripoli"},{id:56,tim:"3",dis:"(+03:00) Amman"},{id:57,tim:"3",dis:"(+03:00) Baghdad"},{id:58,tim:"3",dis:"(+02:00) Kaliningrad"},{id:59,tim:"3",dis:"(+03:00) Kuwait, Riyadh"},{id:60,tim:"3",dis:"(+03:00) Nairobi"},{id:61,tim:"3",dis:"(+03:00) Moscow, St. Petersburg, Volgograd, Minsk"},{id:62,tim:"4",dis:"(+04:00) Samara, Ulyanovsk, Saratov"},{id:64,tim:"4",dis:"(+04:00) Abu Dhabi, Muscat"},{id:65,tim:"5",dis:"(+04:00) Baku"},{id:66,tim:"4",dis:"(+04:00) Port Louis"},{id:67,tim:"4",dis:"(+04:00) Tbilisi"},{id:68,tim:"4",dis:"(+04:00) Yerevan"},{id:70,tim:"5",dis:"(+05:00) Ashgabat, Tashkent"},{id:71,tim:"5",dis:"(+05:00) Yekaterinburg"},{id:72,tim:"5",dis:"(+05:00) Islamabad, Karachi"},{id:76,tim:"6",dis:"(+06:00) Nur-Sultan (Astana)"},{id:77,tim:"6",dis:"(+06:00) Dhaka"},{id:79,tim:"7",dis:"(+07:00) Bangkok, Hanoi, Jakarta"},{id:80,tim:"7",dis:"(+07:00) Novosibirsk"},{id:81,tim:"8",dis:"(+08:00) Beijing, Chongqing, Hong Kong, Urumqi"},{id:82,tim:"8",dis:"(+08:00) Krasnoyarsk"},{id:83,tim:"8",dis:"(+08:00) Kuala Lumpur, Singapore"},{id:84,tim:"8",dis:"(+08:00) Perth"},{id:85,tim:"8",dis:"(+08:00) Taipei"},{id:86,tim:"8",dis:"(+08:00) Ulaanbaatar"},{id:87,tim:"8",dis:"(+08:00) Irkutsk"},{id:88,tim:"9",dis:"(+09:00) Osaka, Sapporo, Tokyo"},{id:89,tim:"9",dis:"(+09:00) Seoul"},{id:92,tim:"10",dis:"(+10:00) Brisbane"},{id:93,tim:"10",dis:"(+10:00) Canberra, Melbourne, Sydney"},{id:94,tim:"10",dis:"(+10:00) Guam, Port Moresby"},{id:95,tim:"10",dis:"(+10:00) Hobart"},{id:96,tim:"9",dis:"(+09:00) Yakutsk"},{id:97,tim:"11",dis:"(+11:00) Solomon Is., New Caledonia"},{id:98,tim:"11",dis:"(+11:00) Vladivostok"},{id:99,tim:"12",dis:"(+12:00) Auckland, Wellington"},{id:100,tim:"12",dis:"(+12:00) Coordinated Universal Time+12"},{id:101,tim:"12",dis:"(+12:00) Fiji"},{id:102,tim:"12",dis:"(+12:00) Magadan"},{id:103,tim:"13",dis:"(+12:00) Petropavlovsk-Kamchatsky - Old"},{id:104,tim:"13",dis:"(+13:00) Nuku'alofa"},{id:105,tim:"13",dis:"(+13:00) Samoa"}]},u=function(){o.find(".refresh_devstas").each((function(t,i){h([$(i),JSON.parse(o.__dbDAT[t].wdmo),t+1],0,o.__dbDAT)}))},h=function(t,i,a){if(t[1]){var e,s,r,o=a[t[2]-1],l=t[1][2].split("-"),c="btn-primary",m=l.length<18?"d-none":"disabled",u=t[0].find(".refsh-tim"),p=function(t,i){return t.find("td:nth-child("+(i+1)+")")},f=t[0].closest("tr").next(),g=p(f.next().next(),l.length<18?1:t[2]),v=p(g.closest("tr").next(),l.length<18?1:t[2]);if(console.log(" __refreshINFO: "+a),t[0].removeClass(c+" d-none disabled"),1==i?t[0].addClass(c):(t[0].addClass(m),l.length<18&&(u.text(""),g.text("0"),v.text("0"),p(f.next(),1).html(""))),l.length>18){var b=parseInt(l[16]),_=parseInt(l[17]),k=new Date(1e3*(b+1e9)+_);if(u.text(k.toISOString().slice(0,10)+k.toGMTString().slice(16,25)),e=h.calcMaxAt,s=0,r=!e||(s=new Date-e)>1e3,e=new Date,r?(h.calcMaxAt=e,console.log(s+" :reCalc "+e.getTime()),h.rstMAX=a.reduce((function(t,i){if(-9999!=i.kind){var a=i.wdmo.split("-");parseInt(a[6])>t[0]&&(t[0]=parseInt(a[6])),parseInt(a[7])>t[1]&&(t[1]=parseInt(a[7])),parseInt(a[13])>t[2]&&(t[2]=parseInt(a[13]))}return t}),[0,0,0])):console.log(s+" :keepOld "+e.getTime()),g.text(l[4]),v.text(l[5]),h.rstMAX)p(f.next(),t[2]).html(function(t,i){const a=function(i,a,e,s){if(s>0){var r=e*parseInt(t[i])/s,o=e*parseInt(t[a])/s;return i=t[i],a=t[a],[[r,e],[o,e],[n(i),n(a),0==parseInt(i)?0:d(100*parseInt(a)/parseInt(i))]]}return[[0,e],[0,e],[i=0,a=0,0]]},e=a(6,1,80,i[0]),s=a(7,0,50,i[1]),r=a(13,12,20,i[2]);return'<svg width=180 height=150 viewbox="0 0 30 30"><path class="circle-bg"  stroke-dasharray="'+e[0].join(",")+'"    d="M17 2.26759            a 12.7324 12.7324 0 0 1 0 25.4648      a 12.7324 12.7324 0 0 1 0 -25.4648"></path><path class="circular-chart orange circle" stroke-dasharray="'+e[1].join(",")+'"    d="M17 2.26759      a 12.7324 12.7324 0 0 1 0 25.4648      a 12.7324 12.7324 0 0 1 0 -25.4648"></path><text x="1" y="1.3" class="percentage">    <tspan x="-1" dy="1.2em">use: '+e[2][1]+" ("+e[2][2]+'%)</tspan>    <tspan x="-1" dy="1.2em">total: '+e[2][0]+'</tspan>    <tspan x="-1" dy="1.2em">Finger capacity</tspan></text><path class="circle-bg" stroke-dasharray="'+s[0].join(",")+'"    d="M17 7.042246      a 7.9577 7.9577 0 0 1 0 15.9155      a 7.9577 7.9577 0 0 1 0 -15.9155"></path><path d="M17.2 2L12 8" stroke="hotpink" stroke-width="0.2" stroke-dasharray="1"></path><path d="M1,8 h11" stroke="hotpink" stroke-width="0.2" stroke-dasharray="1"></path><circle cx="17" cy="2.4" r="0.6" fill="hotpink"></circle><path class="circular-chart green circle" stroke-dasharray="'+s[1].join(",")+'"    d="M17 7.042246      a 7.9577 7.9577 0 0 1 0 15.9155      a 7.9577 7.9577 0 0 1 0 -15.9155"></path><path d="M10 20L17 7.042246" stroke="hotpink" stroke-width="0.2" stroke-dasharray="1"></path><path d="M1,20 h10" stroke="hotpink" stroke-width="0.2" stroke-dasharray="1"></path><circle cx="17" cy="7.042246" r="0.6" fill="hotpink"></circle><text x="1" y="20" class="percentage">    <tspan x="-1" dy="1.2em">use:'+s[2][1]+" ("+s[2][2]+'%)</tspan>    <tspan x="-1" dy="1.2em">total: '+s[2][0]+'</tspan>    <tspan x="-1" dy="1.2em">User capacity</tspan></text><path class="circle-bg stroke-dasharray="'+r[0].join(",")+'"    d="M17 11.816898      a 3.1831 3.1831 0 0 1 0 6.3662      a 3.1831 3.1831 0 0 1 0 -6.3662"></path><path class="circular-chart blue circle" stroke-dasharray="'+r[1].join(",")+'"    d="M17 11.816898      a 3.1831 3.1831 0 0 1 0 6.3662      a 3.1831 3.1831 0 0 1 0 -6.3662"></path>'+(0==r[2][1]?'<text x="17.2" y="17" class="percentage invalid">face invalid</text><path d="M17 15L17 11.816898" class="circle-bg" stroke-width="0.2"></path>':'<text x="18" y="12" class="percentage">    <tspan x="20" dy="1.2em">use</tspan>    <tspan x="19" dy="1.2em">'+r[2][1]+" ("+r[2][2]+'%)</tspan>    <tspan x="19" dy="1.2em">total: '+r[2][0]+'</tspan>    <tspan x="19" dy="1.2em">Face capacity</tspan></text><path d="M18 15L17 11.816898" stroke="hotpink" stroke-width="0.2" stroke-dasharray="1"></path>')+'<circle cx="17" cy="11.816898" r="0.6" fill="hotpink"></circle></svg>'}(l,h.rstMAX))}if(o.heavyMOD="",t[1][3]){var x=JSON.parse(t[1][3]),w=t[0].closest("tbody").find(".mcc_plan"),T=["Cloud Free"],y='<span class="badge badge-success">Free</span>';if(w.length>0){if("2"==x[1]&&T.push("Android local"),x[0]&&2==x[0].length){const t=new Date(new Date(x[0][0]).getTime()+864e5*x[0][1]);new Date<t&&(y=t.toISOString().split("T")[0],T[0]='<span class="badge badge-info">Cloud Premium</span>',o.heavyMOD="1")}$(w[0]).find("td:last-child").html(T.join("  <br class='my-1'/> ")),$(w[1]).find("td:last-child").html(y)}}}},p=function(t){t.children().last().addClass("kick_div").html('<h2 class="ti-comment-alt" style="color:red"></h2><h4>OPPS</h4><div>Device off monitor by it owner</div><br/><div>Vui long click delete button de xac nhan hoan tat kick off session</div>')},f={col0:function(t,i){var a,e=1;o.find("tr td:last-child").each((function(s,n){var d=$(n),r=d.attr("f");r&&d.html(f[r](t)),void 0===i&&d.hasClass("refresh_devstas")?t?a=[d.find(".btn"),JSON.parse(t.wdmo),1]:d.empty():d.hasClass("att_chrt")?d[(t?"remove":"add")+"Class"]("blank"):d.hasClass("svg_ring")?t||(d.empty(),e=2):2==e&&d.text("0"),d.hasClass("kickoff")&&(t?-9999==t.kind&&p(d):d.children().last().removeClass("kick_div").html(""))})),a&&h(a,0,o.__dbDAT)},coln:function(t,i){var a,e=1;o.find("tr td:last-child").each((function(s,n){var d,r=$(n),o=r.attr("colspan"),l=r.attr("f");o?r.attr("colspan",parseInt(e)+1):(r.index()>e&&(e=r.index()),(d=l?r.clone().html(f[l](t)):$(n.outerHTML)).hasClass("kickoff")&&d.children().last().removeClass("kick_div").html(""),r.parent().append(d));void 0===i&&r.hasClass("refresh_devstas")&&(a=[r.find(".btn"),t?JSON.parse(t.wdmo):"",e+1])})),a&&h(a,0,o.__dbDAT)},id:function(t){return t&&t.id||"0"},ten:function(t,i){return'<div class="comparison-item"><div><span class="comparison-item-title">'+(t&&t.ten||"SAMPLE")+'</span><span class="comparison-item-titleuser ti-eye"><span class="eye-moter">0</span></span></div><button class="btn btn-warning p-1 chinhsua" '+(t?"":"disabled")+' type="button"><i class="ti-pencil"></i></button>\n<button class="btn btn-danger p-1 xoabo" '+(t?"":"disabled")+' type="button"><i class="fa fa-trash-o"></i></button>\t<div class="btn text-secondary mcc-statux" tok="'+(t&&t.tok||"NEWTOK")+'"><i class="fa fa-circle"></i>&nbsp;<span>offline</span></div></div>'},DeviceName:function(t){return'<span class="text-dark font-weight-semibold">'+(t&&t.DeviceName||"ZKTECO")+"</span>"},serno:function(t){return t&&t.serno||"xxxxxxxxxx"},wdms:function(t){return t&&t.wdms||"-"},rtevt:function(t){if(!t)return"-"},rtevt_sub:function(t,i){var a=o.__dbDAT&&o.__dbDAT[t];return a&&(a.rtevt=1==i),1===i?'<i style="color:limegreen" class="fa fa-check fa-lg"></i>':"-"},timezone:function(t){if(!t)return"-"},timezone_sub:function(t,i){var a,e=m.dogTimezone.filter((function(t){return t.id==i}));return e.length>0?((a=o.__dbDAT&&o.__dbDAT[t])&&(a.time_zone=e[0].tim,a.timezone=e[0].id),e[0].dis):"-"},isatt:function(t){if(!t)return"-"},isatt_sub:function(t,i){var a=o.__dbDAT&&o.__dbDAT[t];return a&&(a.isatt=1==i),1===i?'<i style="color:limegreen" class="fa fa-check fa-lg"></i>':"-"}},g=function(t){"noU"==c&&st("setItem",m.dbNa,btoa(window[st0("1")](JSON.stringify(t)))),o[(t.length>0?"remove":"add")+"Class"]("empty_mcc"),gloEVTs.dumeTHIETBI.f1.bind(["thietbi",t])()},v=[0,0,0,24,25,new Date(new Date),28,null],b={fmt:12,atLOAD:new Date,hwnd:-1,timeMaker:null,_rtevt_sigcard:function(t){alert("here")},drawRULER:function(t){clearTimeout(this.hwnd),t||(t=o.closest(".comparison-table").next());var i=[],a=v[3],e=v[4],s=Math.floor((o.height()-a)/e),n=a+(s-2)*e;console.log(o.height()+";"+(a+s*e));var d=v[5],r=((new Date).setHours(0,0,0,0),d.getHours()),l=d.getMinutes();d.getSeconds();if(0==v[2]||v[0]+2*v[4]>v[2]){var c=2*e*24,m=s*e,u=2*e*r;c-u<m&&(u=c-m+2*e);for(var h=0;h<24;h++){var p=":00"+(12==this.fmt?" <small> "+(h<this.fmt?"A":"P")+"M</small>":""),f=12==this.fmt?0==h||12==h?12:h%this.fmt:pad$(h,2);i.push('<div class="time">'+f+p+'</div><div class="time"><small>'+f+":30</small></div>")}v[1]=-1*u,v[2]=n;var g=t.css("height",s*e+e+5).find(".hour_list").css({top:v[1],height:v[2]}).html(i.join(""));v[7].css({top:v[1]-v[4]}),this.timeMaker=g.prev(),t.find(".rtedog").css("height",n)}v[0]=2*e*(r+l/60)+v[1]+v[6],this.timeMaker.css("top",v[0]),t.find(".rtvtitle").html(v[5].toLocaleTimeString()),this.st$rt()},in$t:function(){clearTimeout(this.hwnd);var t=this,i=o.closest(".comparison-table").next();i.find('input[name="mod24"]').change((function(){b.fmt=this.checked?24:12,m[m.__[2]].mod24=b.fmt,st("setItem",m.__[2],btoa(window[st0("1")](JSON.stringify(m[m.__[2]])))),v[2]=0,b.drawRULER(i)})).prop("checked",24==m[m.__[2]].mod24),i.on("click",".btn_viewall",(function(a){v[5]=new Date(v[5].setHours(v[5].getHours()+1));var e=2*(v[5].getHours()+(v[5].getMinutes()>30?.5:0));v[7].find("tr:nth-child("+(e+3)+")");t.drawRULER(i)}));for(var a=[],e=0;e<=50;e++)a.push("<tr><td>-</td></tr>");v[7]=i.find("table"),v[7].find(".realtime-row").on("click",".btn",b._rtevt_sigcard).html(a.join("")),this.fmt=m[m.__[2]].mod24,this.drawRULER(i)},job:function(){console.log("time_ruler: "+(new Date).getTime());o.closest(".comparison-table").next();v[0]+=1,this.timeMaker.css("top",v[0]);var t=(o.height()-27)/25;t>Math.floor(t)&&(t=Math.floor(t)+1),console.log(o.height()+";"+(27+25*t))},tick:function(t){clearTimeout(this.hwnd);var i=new Date,a=Math.abs(v[5]-i),e=2*(i.getHours()+(i.getMinutes()>30?.5:0));v[7].find("tr:nth-child("+(e+3)+")");Math.floor(a/1e3/60)>30&&(v[2]=0),v[5]=i,this.drawRULER(),console.log("tick: function (s)")},st$rt:function(t,i){clearTimeout(this.hwnd);var a=function(){b.tick(t)};this.hwnd=setTimeout(a,1e3*(t||60)),1===i&&a()}};this.init=function(n,d,_,k,x){r=_,i=n.find(".init_data"),a=JSON.parse(atob(i.text())),m.lan=$.extend(JSON.parse(a.lan),aLAN),i.remove(),$(".sockmsg").on("click",(function(t){t.preventDefault(),$(".talk-bubble").addClass("pulsate").delay(2e3).removeClass("pulsate")})),n.on("theme",(function(t,i,a,s,n,d,r,o){alert("here"),e&&e.update()})).on(atob("cnRldnRz").toUpperCase(),(function(t,i,a){if(i&&!(i.length<2)){var e=new Date(new Date(i[1].replace(/-/g,"/"))),s=2*(e.getHours()+(e.getMinutes()>30?.5:0)),n=v[7].find("tr:nth-child("+(s+3)+")"),d=n.data("cntlog")||0;d++,n.data("cntlog",d),n.find("td:first").html('<div class="btn text-small"><span class="fa fa-id-card-o rtevt_sigcard"></span><span class="ml-1">('+d+")</span></div>")}})).find("[data-lang]").each((function(t,i){var a=i.getAttribute("data-lang");$(i).html(_La$N(a,m.lan))}));var w=function(){var t=o.width(),i=n.width(),a="auto",e="add";i<t&&(a=i,e="remove"),o.parent()[e+"Class"]("ps-hieu-active-x").css("width",a),m.mcc_lst_scroll&&m.mcc_lst_scroll.update()},T=function(i){srclocked(!0),_gsC(srcp$f+"/media/utils/jsc/tikestep_device.js"+src$id,"js",(function(a){l||(gloEVTs&&(gloEVTs.giaidoan2=null),l=new _o$h.tikestep_device(t,n,m)),i()}),"tikestep_device.js")},y={moi:function(t){var i=o.__dbDAT,a=i.length;i.push(t),a>0?f.coln(t,1):f.col0(t,1),s._lod((function(){s._deviceDAT.add(t)})),u(),v[2]=0,b.drawRULER(),g(i),w()},sua:function(t,i){var a;o.__dbDAT[i]=t,o.find("tr td:nth-child("+(i+2)+")").each((function(e,s){var n=$(s),d=n.attr("colspan"),r=n.attr("f");d||r&&("ten"==r?n.find("span.comparison-item-title").html(t[r]):n.html(f[r](t))),n.hasClass("refresh_devstas")&&(a=[n.find(".btn"),t?JSON.parse(t.wdmo):"",i+1])})),g(o.__dbDAT),s._deviceDAT.upt(t,i),a&&h(a,1,o.__dbDAT),v[2]=0,b.drawRULER()},mcc_onoffline:function(t){}},D=function(t,i,a,e){T((function(){l._Device({dat:JSON.parse(JSON.stringify(i))},t,o.__dbDAT.reduce((function(t,i){return t.push({id:i.id,serno:i.serno,kind:i.kind,ten:i.ten,wdms:i.wdms}),t}),[]),a,e)}))};o=n.find(".mcc-list-container>table").on("click",".refresh_devstas .btn",(function(t){if($(this).hasClass("disabled"));else if(o.__dbDAT.length>0){var i=$(this).parent().data("datI"),a=o.__dbDAT[i-1];if(!a||!a.tok)return;srclocked(!0),$(t.target).trigger("X2NtZGRldg",[50,a,i])}})).on("rst_devstas",(function(t,i,a,e,n,d){if(d)return void d.bind([].slice.apply(arguments,[1,5]))();if("OK"!=i)return;h.calcMaxAt=new Date(1659427921374);var r=JSON.parse(e.wdmo),l=$(t.target);l=l.hasClass("btn")?l:l.parent();const c=a[3]&&"localconn"==a[3][0]?a[0][4][6]:a[4][6];r[2]!=c&&(r[2]=c,e.wdmo=JSON.stringify(r),g(o.__dbDAT),s._deviceDAT.upt(e,n-1),h([l,r,n],1,o.__dbDAT))})),function(){var t;if("noU"==c&&(t=st("getItem",window[st0("1")](m.dbNa)))&&(t=JSON.parse(window[st0("2")](atob(t)))),o.__dbDAT=[],t){o.__dbDAT=t,f.col0(t[0]);for(var i=1;i<t.length;i++)f.coln(t[i])}else f.col0();o[(o.__dbDAT.length>0?"remove":"add")+"Class"]("empty_mcc")}(),Main.isMobile()||(m.mcc_lst_scroll=new PerfectScrollbar(o.parent()[0],{suppressScrollY:!0})),x.EVTS.RZ_EVT=w,s._deviceMEM(o.__dbDAT,o.find(".deviceMEM")[0]),w(),m.fnHANDSHAKE=function(t,i){m.fnHANDSHAKE.currMSG=t[2];var a,e,s,n=(s=$(""),o.find(".mcc-statux").each((function(n,d){var r=$(d);if(-1!=t[1].indexOf(r.attr("tok"))){var l=(s=r).closest("td").index();o.find("tr td:nth-child("+(l+1)+")").each((function(s,n){var d=$(n),r=d.attr("f");if(f[r+"_sub"]&&t[4].length>0&&d.html(f[r+"_sub"](l-1,t[4][d.attr("ixs")])),d.hasClass("refresh_devstas")){const a=JSON.parse(o.__dbDAT[l-1].wdmo);i&&(a[3]=i[4]&&i[4][5]||JSON.stringify([])),t[5]&&(a[2]=t[5]),e=[d.data("datI",l).find(".btn"),a,l]}d.hasClass("kickoff")&&(a=[l,d])}))}})),s),d=function(i){var a="text-secondary";return"online"==t[2]&&(a="text-success",i=1),n.removeClass().addClass("btn mcc-statux "+a).find("span").html(t[2]),n.parent().data("statux",[i]).find(".comparison-item-titleuser").html('<span class="eye-moter">'+t[3]+"</span>"),i};switch(t[0]){case"sigLIVE":e&&e[1]&&h(e,d(0),o.__dbDAT);break;case"usr":n.parent().find(".comparison-item-titleuser").html('<span class="eye-moter">'+t[3]+"</span>");break;case"kickoff":if(a){var r=o.__dbDAT[a[0]-1];-9999!=r.kind&&(r.kind=-9999,y.sua(r,a[0]-1)),t[2]="offline",d(-9999),p(a[1]),u()}}},o.__dbDAT.length>0&&T((function(){var t,i=window.sockjo?1:200,a=function(){clearTimeout(t),t=-1,window.sockjo?n.trigger("d2Rtc19jb25u",[o.__dbDAT,y.mcc_onoffline]):t=setTimeout(a,i)};t=setTimeout(a,i)})),o.find(".xyzku .btn").on("click",(function(t){$(t.currentTarget).find("i[class^=ti-angle]").toggleClass("ti-angle-up ti-angle-down").closest("tbody").toggleClass("state_colai")})),o.find(".head-cmd").on("click",".btn:not(.dropdown-toggle)",(function(t){t.preventDefault();var i=$(t.currentTarget),a=o.__dbDAT,e=i.closest("td").index();if(i.hasClass("chinhsua")){var n=a[e-1];D(y.sua,n,e-1,n.kind)}else if(i.hasClass("xoabo"))T((function(){l._confirmDEL(1,(function(t,i){if(!t)return;const n=a[e-1],d=JSON.parse(n.wdmo);"localconn"==i(n.tok,1,n.serno,d)&&delete m.WDM[btoa(n.serno+";"+d[0])],a.splice(e-1,1),s._deviceDAT.rmv(e-1,1),g(a),0==n.kind&&gloEVTs.elUI_localDEV&&gloEVTs.elUI_localDEV("fcmdev",[n,"1"]),a.length>0?(o.find("tr td:nth-child("+(e+1)+")").each((function(t,i){var a=$(i),e=a.attr("colspan");e?a.attr("colspan",parseInt(e)-1):a.remove()})),w(),u()):0==a.length&&f.col0(),w(),v[2]=0,b.drawRULER(),toastMsg("HOAN TAT XOA THIET BI","success")}))}));else if(i.hasClass("mcc-statux"))for(var d in m.WDM)m.WDM.hasOwnProperty(d)})).on("click",".themmoi",(function(t){var i=$(t.currentTarget),a=1e3;if(i.hasClass("downattlog")||i.hasClass("mngusrs"))return srclocked(!0),0==o.__dbDAT.length?void admin$.popup({a:"d",m:'<i class="ti-face-sad text-danger mr-2"></i>'+(m.lan.js_009_32||"No devices. Please check and try again.")}).one("shown.bs.modal",(function(){srclocked(!1)})).modal("show").find("#popupdone").remove():setTimeout((function(){const i=$(t.currentTarget).clone(),a="<span>"+i.children().last().remove().text().trim()+"</span>",e=gloEVTs.giaidoan2(t,i.html()+a,o,"on");e.on("click","actionline .btn",(function(t){const i=e.find(".modal-body");i.find("*").off().unbind().removeData(),i.empty(),e.trigger("shown.bs.modal")}))}),100);i.hasClass("menuitem_wdms")&&(a=0),i.hasClass("connlocal")&&(a=101),0!=a&&101!=a||(srclocked(!0),D(y.moi,{id:1,DeviceName:"",ten:"FUK",serno:"",pkey:"",pubkey:"2TCVkVIIudv5wOl5qWLx8px69XtXvxkDJu9lzj65tMIobn+C460EBlpx3fIIEl00",kind:a,wdms:0==a?"mobi.dnd.vn/xyz":"192.168.1.208"},-1,a))}));var C=st("getItem",m.__[2]);m[m.__[2]]=C?JSON.parse(window[st0("2")](atob(C))):{mod24:12},b.in$t(),srclocked(!1)},this.dispose=function(){e&&e.destroy(),m.socIO&&m.socIO.close(),$("#tabBODY_"+r).trigger("dispose")},this.mod=function(t){alert(t)}}return t.prototype.comm1={exS:function(t){},uplog:"html"},t}();